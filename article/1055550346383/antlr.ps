%!PS-Adobe-2.0
%%Creator: dvipsk 5.516a Copyright 1986, 1993 Radical Eye Software
%%Title: antlr.dvi
%%Pages: 22
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Italic Courier Times-Bold
%%EndComments
%DVIPSCommandLine: dvips antlr
%DVIPSSource:  TeX output 1995.08.15:1801
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 get
round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0
0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
false RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale false def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (antlr.dvi)
@start /Fa 133[20 20 20 20 20 20 20 20 20 1[20 20 20
20 20 20 20 20 20 20 20 20 20 20 20 20 11[20 1[20 20
3[20 20 20 4[20 20 20 20 20 1[20 20 8[20 1[20 1[20 1[20
2[20 20 45[{}44 33.333332 /Courier rf /Fb 1 50 df<0C003C00CC000C000C000C
000C000C000C000C000C000C000C000C000C00FF8009107E8F0F>49
D E /Fc 10 117 df<07FFFF8000E0038000E0010000E0010000E0010001C0010001C001
0001C0400001C04000038080000381800003FF8000038180000701000007010000070100
00070000000E0000000E0000000E0000000E0000001C000000FFC0000019177F9616>70
D<07FE00E000E000E000E001C001C001C001C0038003800380038007000700070007000E
000E000E000E001C00FFC00F177E960F>73 D<07FF0000E00000E00000E00000E00001C0
0001C00001C00001C0000380000380000380000380000700000700080700080700100E00
100E00300E00200E00601C01E0FFFFC015177F9618>76 D<001FC000707001C01803001C
06000C0E000E1C000E18000E38000E30000E70000E70000E70000E70001CE0001C600038
7000387000707000E03801C01803800E0E0003F00017177F961B>79
D<07FFF00000E01C0000E0060000E0070000E0070001C0070001C0070001C0070001C00E
0003801C000380700003FF80000380E000070070000700380007003800070038000E0070
000E0070000E0070800E0070801C003100FF801E0019177F961B>82
D<003E1000C1A00100E00200600600600C00400C00400E00000F000007E00007FC0001FE
00003F00000780000380000380200180400300400300600600600400D8180087E0001417
7E9615>I<1FFFFE381C0E201C04601C04401C0440380480380400380000380000700000
700000700000700000E00000E00000E00000E00001C00001C00001C00001C00003C0007F
FC0017177F9615>I<FF83FC1FC01C00E007001C00E006001C00E004001C01E008001C02
E008001C02E010001C04E010001C047020001C087040001C087040001E107080000E2070
80000E207100000E407100000E407200000E807400000F807400000F007800000E007800
000E007000000C007000000C0020000022177E9621>87 D<38F04518463846308C000C00
0C000C001800180018001800300030000D0E7F8D10>114 D<0300030006000600060006
00FFC00C000C000C001800180018001800300030803080310031001E000A147F930D>
116 D E /Fd 4 123 df<0C000C008C40EDC07F800C007F80EDC08C400C000C000A0B7D
8B10>3 D<3C62C3C3C040603866C2C3C343661C060203C3C3463C08167D900E>120
D<1818181818FFFF18181818181818181818181818181808167D900E>I<1818181818FF
18181818180018181818FFFF1818181808167D900E>I E /Fe 4
123 df<040004000400C460E4E03F800E003F80E4E0C4600400040004000B0D7E8D11>3
D<1C0062004100C300C000C00040002000180036006300C180C180C180C180630036000C
0002000100018001806180410023001C00091A7E930F>120 D<0C000C000C000C000C00
0C00FFC0FFC00C000C000C000C000C000C000C000C000C000C000C000C000C000C000C00
0C000C000C000A1A7E9310>I<0C000C000C000C000C000C00FFC00C000C000C000C000C
000C0000000C000C000C000C000C00FFC0FFC00C000C000C000C000C000A1A7E9310>I
E /Ff 134[19 4[10 1[12 2[19 19 1[10 2[10 2[12 17 1[17
1[17 97[{.167 SlantFont}11 37.500000 /Times-Roman rf
/Fg 3 111 df<0300030003000300E31C73381FE0078007801FE07338E31C0300030003
0003000E107E9013>3 D<0F8000801FE000803FF0008070780180E01C0380C00F070080
07FE008003FC008000F80019097E8D1E>24 D<C000C00060006000600030003000300018
00180018000C000C000C0006000600060003000300030001800180018000C000C000C000
6000600060003000300030001800180018000C00040E257E9B13>110
D E /Fh 134[23 23 2[25 15 18 20 1[25 23 25 1[13 2[13
25 23 15 20 25 20 25 23 12[30 3[28 6[18 2[28 30 1[33
1[33 21[26 43[{}27 45.624989 /Times-Bold rf /Fi 147[13
6[20 2[23 20 60[23 36[{.167 SlantFont}5 45.624989 /Times-Roman
rf /Fj 5 117 df<3E0006000C000C000C000C00180019E01E3018303830303030303030
6060606460C460C4C0C8C0700E147E9313>104 D<06070600000000384C4C8C98181830
326262643808147F930C>I<30F87C00590C86004E0D06009C0E0600980C0600180C0600
180C060030180C0030180C8030181880301818806030190060300E00190D7F8C1D>109
D<30F8590C4E0C9C0C980C180C180C30183019303130316032601C100D7F8C15>I<0200
0600060006000C00FF800C000C001800180018001800300031003100320032001C000912
7F910D>116 D E /Fk 2 51 df<0C001C00EC000C000C000C000C000C000C000C000C00
0C000C000C000C000C000C000C00FFC00A137D9211>49 D<1F0060C06060F070F0306030
00700070006000C001C00180020004000810101020207FE0FFE00C137E9211>I
E /Fl 59[27 27 6[27 62[27 27 27 27 27 27 27 27 27 27
27 27 1[27 27 27 27 27 27 27 27 27 27 27 27 27 27 27
27 3[27 27 27 27 27 27 1[27 27 27 27 27 27 27 27 27 27
27 27 1[27 27 27 27 27 27 27 27 27 27 27 27 27 27 27
27 27 1[27 1[27 27 27 27 27 27 27 27 27 27 27 27 27 27
27 1[27 27 27 27 27 33[{}87 45.624989 /Courier rf /Fm
6 62 df<0020004000800100020006000C000C0018001800300030003000700060006000
6000E000E000E000E000E000E000E000E000E000E000E000E00060006000600070003000
30003000180018000C000C000600020001000080004000200B2E7DA112>40
D<800040002000100008000C00060006000300030001800180018001C000C000C000C000
E000E000E000E000E000E000E000E000E000E000E000E000C000C000C001C00180018001
8003000300060006000C00080010002000400080000B2E7DA112>I<018003800F80F380
038003800380038003800380038003800380038003800380038003800380038003800380
03800380038003800380038007C0FFFE0F1E7C9D17>49 D<03F0000C1C00100E00200700
400780800780F007C0F803C0F803C0F803C02007C00007C0000780000780000F00000E00
001C0000380000700000600000C0000180000300000600400C00401800401000803FFF80
7FFF80FFFF80121E7E9D17>I<03F0000C1C00100E00200F00780F80780780780780380F
80000F80000F00000F00000E00001C0000380003F000003C00000E00000F000007800007
800007C02007C0F807C0F807C0F807C0F00780400780400F00200E001C3C0003F000121F
7E9D17>I<7FFFFFE0FFFFFFF00000000000000000000000000000000000000000000000
000000000000000000FFFFFFF07FFFFFE01C0C7D9023>61 D E /Fn
198[25 25 25 25 25 25 25 25 25 25 48[{}10 50.000000 /Times-Roman
rf /Fo 3 111 df<0001FE00000007FF8000001E01E000007800780000E0001C00018000
0600030000030006000001800C000000C00C000000C01800000060300000003030000000
303000000030600000001860000000186000000018C00000000CC00000000CC00000000C
C00000000CC00000000CC00000000CC00000000CC00000000CC00000000C600000001860
00000018600000001830000000303000000030300000003018000000600C000000C00C00
0000C006000001800300000300018000060000E0001C000078007800001E01E0000007FF
80000001FE0000262B7DA02D>13 D<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFFFF
FFFFFF7FFE7FFE3FFC1FF80FF003C010127D9317>15 D<C000C000C00060006000600030
00300030001800180018000C000C000C0006000600060003000300030001800180018000
C000C000C0006000600060003000300030001800180018000C000C000C00060006000600
0300030001102D7DA117>110 D E /Fp 81[23 52[20 20 30 20
23 13 18 18 1[23 23 23 33 13 20 1[13 23 23 13 20 23 20
23 23 12[25 1[28 3[30 3[20 16[23 1[23 2[23 2[23 23 2[15
45[{}34 45.624989 /Times-Italic rf /Fq 29 119 df<007C0001C3000701810E01
C11E00C11C00E23C00E27800E27800E47800E4F000E8F000F0F000F0F000E0F000E07000
E07003E030046118383207C01C18147E931D>11 D<000001C00000078000001E00000078
000001E00000078000000E00000038000000F0000003C000000F0000003C000000F00000
00F00000003C0000000F00000003C0000000F0000000380000000E0000000780000001E0
000000780000001E0000000780000001C01A1A7C9723>60 D<0001000300030006000600
06000C000C000C00180018001800300030003000600060006000C000C000C00180018001
800300030003000600060006000C000C000C001800180018003000300030006000600060
00C000C000C000102D7DA117>I<E0000000780000001E0000000780000001E000000078
0000001C0000000700000003C0000000F00000003C0000000F00000003C0000003C00000
0F0000003C000000F0000003C00000070000001C00000078000001E00000078000001E00
000078000000E00000001A1A7C9723>I<000002000000060000000E0000000E0000001E
0000001F0000002F0000002F0000004F0000008F0000008F0000010F0000010F0000020F
0000040F0000040F0000080F8000080780001007800020078000200780007FFF80004007
8000800780018007800100078002000780020007C0040003C00C0003C01E0007C0FF807F
FC1E207E9F22>65 D<0000FE0200078186001C004C0038003C0060003C00C0001C01C000
1803800018070000180F0000181E0000101E0000103C0000003C00000078000000780000
007800000078000000F0000000F0000000F0000000F0000000F000008070000080700000
80700001003800010038000200180004000C001800060020000381C00000FE00001F217E
9F21>67 D<00FFFFFF000F000E000F0006000F0002000F0002001E0002001E0002001E00
02001E0002003C0404003C0400003C0400003C0C0000781800007FF80000781800007818
0000F0100000F0100000F0100000F0000401E0000801E0000801E0001001E0001003C000
2003C0006003C0004003C001C0078007C0FFFFFF80201F7E9E22>69
D<00FFFFFF000F000E000F0006000F0002000F0002001E0002001E0002001E0002001E00
02003C0004003C0400003C0400003C04000078080000781800007FF8000078180000F010
0000F0100000F0100000F0100001E0000001E0000001E0000001E0000003C0000003C000
0003C0000003C0000007C00000FFFE0000201F7E9E1D>I<00FFFC000F80000F00000F00
000F00001E00001E00001E00001E00003C00003C00003C00003C00007800007800007800
00780000F00000F00000F00000F00001E00001E00001E00001E00003C00003C00003C000
03C00007C000FFFC00161F7F9E14>73 D<00FFFC00000F8000000F0000000F0000000F00
00001E0000001E0000001E0000001E0000003C0000003C0000003C0000003C0000007800
0000780000007800000078000000F0000000F0000000F0000000F0004001E0008001E000
8001E0018001E0010003C0030003C0030003C0060003C00E0007803C00FFFFFC001A1F7E
9E1F>76 D<0001FC0000070700001C01C0003000E000E0006001C0007003800070078000
38070000380E0000381E0000381C0000383C0000383C0000387800007878000078780000
7878000078F00000F0F00000F0F00000E0F00001E0F00001C0F00003C070000380700007
0078000F0038001E0038003C001C0070000E00E0000783800001FC00001D217E9F23>79
D<00FFFF80000F01E0000F0070000F0038000F003C001E003C001E003C001E003C001E00
3C003C0078003C0078003C00F0003C01E00078038000780F00007FF80000781C0000F00E
0000F00F0000F0070000F0078001E00F0001E00F0001E00F0001E00F0003C01E0003C01E
0203C01E0203C01E0407C00E04FFFC0718000003E01F207E9E23>82
D<0007E0800018118000300B000060070000C0070001C003000180020003800200038002
0003800200038000000380000003C0000003F8000003FF800001FFC00000FFE000003FF0
000003F0000000F0000000700000007000000070002000700020007000200060006000E0
006000C0006001C00070018000E8030000C60E000081F8000019217D9F1C>I<0FFFFFFC
1E03C0381803C0181003C0082003C00820078008600780084007800840078008800F0010
000F0000000F0000000F0000001E0000001E0000001E0000001E0000003C0000003C0000
003C0000003C00000078000000780000007800000078000000F0000000F0000000F00000
00F0000001F000007FFFC0001E1F7F9E1B>I<FFF03FFC1FF80F8007C003C00F00078001
800F00078001000F00078002000F00078002000F000F8004000F00178004000F00178008
000F00278018000F0027C010000F0043C020000F8043C020000F8083C04000078183C040
00078103C08000078203C08000078203C10000078403C20000078403C20000078803C400
00078803C40000079003C8000007A003C8000007A003D0000007C003F0000007C003E000
00078001C00000078001C000000700018000000300018000000200010000002D207E9E2B
>87 D<00F1800389C00707800E03801C03803C0380380700780700780700780700F00E00
F00E00F00E00F00E10F01C20F01C20703C20705C40308C400F078014147E9318>97
D<007C01C207010E0F1E0F1C0E3C04780078007800F000F000F000F000F0007001700230
0418380FC010147E9314>99 D<0000780003F80000700000700000700000700000E00000
E00000E00000E00001C00001C000F1C00389C00707800E03801C03803C03803807007807
00780700780700F00E00F00E00F00E00F00E10F01C20F01C20703C20705C40308C400F07
8015207E9F18>I<007C01C207010E011C013C013802780C7BF07C00F000F000F000F000
7000700170023004183807C010147E9315>I<001E3000713800E0F001C0700380700780
700700E00F00E00F00E00F00E01E01C01E01C01E01C01E01C01E03801E03800E07800E0B
8006170001E700000700000700000E00000E00300E00781C00F038006070003FC000151D
809316>103 D<00E001E001E000C000000000000000000000000000000E001300238043
80438043808700070007000E000E001C001C001C20384038403840388019000E000B1F7E
9E10>105 D<01E0000FE00001C00001C00001C00001C000038000038000038000038000
0700000700000701E00706100E08700E10F00E20F00E40601C80001D00001E00001FC000
387000383800383800381C20703840703840703840701880E01880600F0014207E9F18>
107 D<03C01FC0038003800380038007000700070007000E000E000E000E001C001C001C
001C0038003800380038007000700070007100E200E200E200E200640038000A207E9F0E
>I<1E07C07C00231861860023A032030043C03403004380380380438038038087007007
000700700700070070070007007007000E00E00E000E00E00E000E00E00E000E00E01C10
1C01C01C201C01C038201C01C038401C01C0184038038018801801800F0024147E9328>
I<1E07802318C023A06043C0704380704380708700E00700E00700E00700E00E01C00E01
C00E01C00E03821C03841C07041C07081C03083803101801E017147E931B>I<03C1E004
621804741C08781C08701E08701E10E01E00E01E00E01E00E01E01C03C01C03C01C03C01
C0380380780380700380E003C1C0072380071E000700000700000E00000E00000E00000E
00001C00001C0000FFC000171D819317>112 D<1E1E0023210023C38043C78043878043
83008700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C
000038000018000011147E9315>114 D<00C000E001C001C001C001C003800380FFF803
8007000700070007000E000E000E000E001C001C001C001C10382038203820384018800F
000D1C7F9B10>116 D<0F01801183C02183E021C1E041C0E04380608380400700400700
400700400E00800E00800E00800E01000E01000C02000E04000E040006180001E0001314
7E9316>118 D E /Fr 47[45 19[45 1[20 8[23 1[25 25 3[20
47[20 23 23 33 23 23 13 18 15 23 23 23 23 35 13 23 13
13 23 23 15 20 23 20 23 20 3[15 1[15 1[33 33 43 33 33
28 25 30 33 25 33 33 40 28 33 18 15 33 33 25 28 33 30
30 33 5[13 13 23 23 23 23 23 23 23 23 23 23 13 11 15
11 26 1[15 15 15 35 38 23 36[{}83 45.624989 /Times-Roman
rf /Fs 81[18 51[15 17 17 24 17 17 9 13 11 17 17 17 17
26 9 17 9 9 17 17 11 15 17 15 17 15 6[20 24 24 31 24
24 20 18 22 1[18 24 24 30 20 24 13 11 24 24 18 20 24
22 22 24 6[9 1[17 1[17 2[17 17 17 1[9 8 11 8 19 1[11
11 11 4[14 34[{}67 33.333332 /Times-Roman rf /Ft 4 95
df<00800100020004000C00080018003000300030006000600060006000E000E000E000
E000E000E000E000E000E000E0006000600060006000300030003000180008000C000400
02000100008009267D9B0F>40 D<8000400020001000180008000C000600060006000300
030003000300038003800380038003800380038003800380038003000300030003000600
060006000C0008001800100020004000800009267E9B0F>I<03000700FF000700070007
0007000700070007000700070007000700070007000700070007000700070007000700FF
F00C187D9713>49 D<183C66C38108057B9813>94 D E /Fu 12
108 df<60F0F06004047D830B>58 D<0004000C00180018001800300030003000600060
006000C000C000C00180018001800300030003000600060006000C000C000C0018001800
1800300030003000600060006000C000C0000E257E9B13>61 D<E000007800001E000007
800001E000007800001E000007800001E000007800001E00001E0000780001E000078000
1E0000780001E0000780001E0000780000E0000017167D931E>I<000010000000300000
007000000070000000F8000000B800000138000002380000023800000438000004380000
0838000010380000103C0000201C0000201C00007FFC0000801C0000801C0001001C0003
001C0002001C0004001E0004000E001C001E00FF00FFC01A1A7F991D>65
D<01FFFF800038038000380180003800800070008000700080007000800070008000E040
0000E0400000E0400000E0C00001FF800001C0800001C0800001C0800003810000038000
000380000003800000070000000700000007000000070000000F000000FFF00000191A7E
9919>70 D<03FF8000380000380000380000700000700000700000700000E00000E00000
E00000E00001C00001C00001C00001C00003800003800003800003800007000007000007
00000700000F0000FFE000111A7F9911>73 D<01FF80FF00380038003800600038004000
70010000700200007004000070080000E0200000E0400000E0800000E1C00001C5C00001
C9C00001D0E00001C0E000038070000380700003807000038038000700380007001C0007
001C0007001C000E001E00FFE0FF80201A7E9921>75 D<01FFC000380000380000380000
700000700000700000700000E00000E00000E00000E00001C00001C00001C00001C00003
80000380080380080380100700100700300700200700600E01C0FFFFC0151A7E991A>I<
01FFF80000381E0000380700003807800070078000700780007007800070078000E00F00
00E00E0000E01C0000E0700001FFC00001C0C00001C0600001C070000380700003807000
03807000038070000700F0000700F0000700F0400700F0800E007980FFE01E001A1A7E99
1D>82 D<001F080060D800803801003803001006001006001006001006000007000007C0
0003FC0001FF00007F800007C00001C00001C00000C02000C02000C06001806001806003
00700600CC0C0083F000151A7E9917>I<3FFFFF80380E0180200E0080400E0080401C00
80801C0080801C0080801C00800038000000380000003800000038000000700000007000
00007000000070000000E0000000E0000000E0000000E0000001C0000001C0000001C000
0001C0000003C000007FFE0000191A7F9916>I<1F800380038003800700070007000700
0E000E000E0E0E331C471C831D001E003C003F8039C038E070E270E270E270E4E0646038
101A7E9914>107 D E /Fv 80[21 21 52[19 19 27 19 21 12
15 17 1[21 19 21 31 10 21 1[10 21 19 12 17 21 17 21 19
7[27 27 37 1[27 25 21 27 1[23 1[27 35 25 2[15 2[23 1[27
27 25 27 5[12 1[19 19 19 3[19 19 19 19 1[9 12 9 21 43[{}54
37.500000 /Times-Bold rf /Fw 60[22 6[22 62[22 22 22 22
22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 1[22 22
22 22 22 22 22 22 22 3[22 22 22 22 1[22 1[22 22 22 22
22 1[22 22 22 22 22 22 1[22 22 22 22 22 22 22 22 22 22
22 22 22 22 22 22 22 3[22 22 22 22 22 22 22 22 22 22
22 22 22 22 1[22 22 22 22 22 22 33[{}83 37.500000 /Courier
rf /Fx 69[21 15[21 47[15 17 17 25 17 19 10 15 15 1[19
19 19 27 10 17 1[10 19 19 10 17 19 17 19 19 7[21 1[31
1[27 21 19 23 1[23 27 25 31 21 1[17 12 27 27 23 23 1[25
1[23 6[12 19 1[19 1[19 19 19 19 19 19 1[9 12 9 25 43[{}58
37.500000 /Times-Italic rf /Fy 170[22 2[20 2[22 22 6[22
5[22 65[{}6 29.999987 /Times-Roman rf /Fz 47[37 30[19
54[17 19 1[27 19 19 10 15 12 1[19 19 19 29 10 19 10 10
19 19 12 17 19 17 19 17 12 7[27 35 27 27 23 21 25 27
21 27 27 33 23 27 15 12 27 27 21 23 27 25 25 27 5[10
10 19 19 19 19 19 19 19 19 19 19 10 9 12 9 2[12 12 12
39[{}70 37.500000 /Times-Roman rf /FA 2 42 df<00020004000800100030006000
C000C0018001800300070006000E000E000C001C001C0018003800380038007000700070
00700070007000F000F000E000E000E000E000E000E000E000E000E000E000E000E000E0
00F000F00070007000700070007000700038003800380018001C001C000C000E000E0006
00070003000180018000C000C00060003000100008000400020F497AB519>40
D<800040002000100018000C000600060003000300018001C000C000E000E00060007000
700030003800380038001C001C001C001C001C001C001E001E000E000E000E000E000E00
0E000E000E000E000E000E000E000E001E001E001C001C001C001C001C001C0038003800
38003000700070006000E000E000C001C0018003000300060006000C0018001000200040
0080000F497CB519>I E /FB 2 108 432 300 dfs[<007FFE000007C000000780000007
8000000F0000000F0000000F0000000F0000001E0000001E0000001E0000001E0000003C
0000003C0000003C0000003C00000078000000780000007800000078000000F0000000F0
000000F0001000F0001001E0002001E0002001E0004001E0004003C000C003C0008003C0
018003C0078007C01F00FFFFFF00>28 34 126 161 48 76 D[<00F0000FE00000E00000
E00000E00001C00001C00001C00001C0000380000380000380000380000700000700F007
03080704380E08780E10780E20300E40001C80001F00001FC0001C700038380038380038
1C00381C10703820703820703820701840E00C80600700>21 35
125 162 36 107 D E /FC 139[20 28 24 2[36 36 4[20 3[32
36 32 1[32 12[44 1[48 1[40 1[52 1[44 4[52 5[52 6[20 12[24
45[{}19 72.000000 /Times-Roman rf /FD 47[29 30[15 87[21
21 27 21 21 18 16 19 1[16 21 21 1[18 1[11 10 2[16 18
21 19 1[21 7[15 15 15 15 15 15 15 15 15 15 1[7 1[7 2[10
10 40[{}35 29.166668 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 789 1
789 0 bop 187 108 a FD(SOFTW)m(ARE\320PRA)o(CTICE)8 b(AND)f
(EXPERIENCE,)g(V)o(OL.)g(25\(7\),)e(789\261810\(JUL)m(Y)t(1995\))354
386 y FC(ANTLR:)17 b(A)h(Predicated-)p FB(LL)p FA(\()p
FB(k)r FA(\))f FC(P)o(arser)h(Generator)958 552 y Fz(T)m(.)10
b(J.)f(P)m Fy(ARR)187 606 y Fx(University)d(of)j(Minnesota,)e(AHPCRC,)h
(1100)f(W)m(ashington)f(A)n(ve)i(S)g(Ste)g(101,)f(Minneapolis,)h(MN)g
(55415,)f Fw(parrt@acm)q(.o)q(rg)993 681 y Fz(AND)930
756 y(R.)j(W)m(.)f(Q)p Fy(UONG)229 805 y Fx(Sc)o(hool)f(of)i
(Electrical)f(Engineering,)e(Pur)o(due)g(University)n(,)g(W)m(.)j
(Lafayette,)e(IN)i(47907,)e Fw(quong@ecn)q(.p)q(urd)q(ue)q(.ed)q(u)935
913 y Fv(SUMMAR)o(Y)232 988 y(Despite)j(the)g(parsing)f(power)g(of)i
Fu(LR=LALR)g Fv(algorithms,)f(e.g)o(.)h(Y)l(A)n(CC)1277
972 y FD(1)1293 988 y Fv(,)g(pr)o(ogrammers)d(often)i(choose)f(to)h
(write)187 1029 y(r)o(ecursive-de)o(sce)o(nt)c(parsers)h(by)h(hand)g
(to)h(obtain)g(incr)o(eased)e(\257exibility)n(,)j(better)e(err)o(or)g
(handling,)g(and)h(ease)e(of)i(deb)o(ug-)187 1071 y(ging)o(.)g(W)n(e)g
(intr)o(oduce)f(ANTLR,)h(a)f(public-domain)h(parser)e(generator)f(that)
k(combines)d(the)i(\257exibility)g(of)h(hand-coded)187
1118 y(parsing)e(with)i(the)f(con)o(venienc)o(e)e(of)i(a)g(parser)e
(generator)m(,)g(which)i(is)h(a)f(component)f(of)h(PCCTS)1549
1102 y FD(2)1566 1118 y Fv(.)h(ANTLR)f(has)f(many)187
1160 y(featur)o(es)g(that)i(make)e(it)j(easier)c(to)j(use)e(than)i
(other)e(language)g(tools.)h(Most)h(important,)g(ANTLR)f(pr)o(ovides)e
Fx(pr)o(edicates)187 1201 y Fv(which)14 b(let)g(the)g(pr)o(ogrammer)e
(systematically)h(dir)o(ect)h(the)g(parse)f(via)h(arbitrary)e(expr)o
(essions)g(using)h(semantic)g(and)187 1243 y(syntactic)c(context;)h(in)
h(practice,)e(the)i(use)e(of)i(pr)o(edicates)d(eliminates)j(the)f(need)
f(to)h(hand-tweak)g(the)g(ANTLR)g(output,)187 1284 y(e)o(ven)d(f)o(or)i
(dif\256cult)g(parsing)e(pr)o(oblems.)h(ANTLR)h(also)f(integrates)f
(the)i(description)e(of)i(lexical)g(and)f(syntactic)f(analysis,)187
1326 y(accepts)h Fu(LL)p Ft(\()p Fu(k)q Ft(\))j Fv(grammars)d(f)o(or)i
Fu(k)k(>)e Ft(1)e Fv(with)h(extended)e(BNF)h(notation,)g(and)g(can)f
(automatically)h(generate)f(abstract)187 1367 y(syntax)f(tr)o(ees.)232
1409 y(ANTLR)j(is)g(widely)g(used,)f(with)i(over)d(1000)h(r)o(egister)o
(ed)g(industrial)g(and)h(academic)e(users)h(in)h(37)f(countries.)g(It)h
(has)187 1450 y(been)i(ported)h(to)g(many)g(popular)f(systems)g(such)h
(as)g(the)g(PC,)h(Macintosh,)f(and)g(a)g(variety)f(of)i(UNIX)f(platf)o
(orms;)h(a)187 1492 y(commer)o(cial)8 b(C++)i(fr)o(ont-end)f(has)g
(been)f(de)o(veloped)f(as)h(a)h(r)o(esult)g(of)h(one)e(of)i(our)e
(industrial)h(collaborations.)187 1591 y Fs(KEY)f(WORDS)34
b(Parsing)e(Compiler)41 b(Parser)8 b(generator)40 b(Predicates)h
(LL\(k\))9 b(parser)863 1716 y Fr(INTR)n(ODUCTION)187
1791 y(Programmers)j(want)e(to)g(use)h(tools)e(that)h(employ)g
(mechanisms)h(the)o(y)g(understand,)e(that)i(are)g(suf)o(\256ciently)
187 1841 y(po)o(werful)d(to)g(solv)o(e)h(their)f(problem,)h(that)f(are)
i(\257e)o(xible,)f(that)f(automate)h(tedious)e(tasks,)i(and)f(that)g
(generate)187 1890 y(output)j(that)g(is)h(easily)g(folded)g(into)f
(their)h(application.)f(Consider)g(parser)i(generators.)f(Existing)e
(parser)187 1940 y(generators)h(often)h(fail)g(one)g(or)g(more)g(of)h
(these)e(criteria.)i(Consequently)m(,)d(parsers)i(are)h(often)f
(written)f(by)187 1990 y(hand,)d(especially)f(for)i(languages)e(that)h
(are)g(conte)o(xt-sensiti)o(v)o(e)e(or)j(require)f(lar)o(ge)g(amounts)g
(of)g(lookahead.)187 2040 y(Compared)13 b(to)f(a)h(hand-b)o(uilt)e
(recursi)o(v)o(e-descent)i(parser)n(,)g(table-dri)o(v)o(en)f
Fq(LR)p Fr(/)p Fq(LL)g Fr(parsers)h(often)f(do)g(not)187
2090 y(ha)o(v)o(e)f(enough)g(parsing)f(strength)g(and)h(can)g(be)g(dif)
o(\256cult)f(to)h(understand)f(and)h(deb)o(ug.)232 2139
y(A)17 b(parser)h(must)e(do)h(much)g(more)h(than)e(just)g(recognize)h
(languages.)f(In)h(particular)n(,)g(parsers)g(must)187
2189 y(interact)e(with)h(the)f(le)o(xical)h(analyzer)h(\(scanner\),)f
(report)g(parsing)f(errors,)i(construct)e(abstract)h(syntax)187
2239 y(trees,)k(and)f(call)h(user)g(actions.)f(Existing)e(parsing)i
(tools)f(ha)o(v)o(e)i(focused)f(mainly)h(on)f(the)g(language)187
2289 y(recognition)9 b(strate)o(gy)m(,)i(often)g(ignoring)e(the)i
(aforementioned)g(tasks.)232 2339 y(In)j(this)e(paper)n(,)j(we)e
(introduce)g(the)g(ANTLR)g(\(ANother)g(T)l(ool)g(for)h(Language)f
(Recognition\))f(parser)187 2388 y(generator)n(,)h(which)f(addresses)h
(all)f(these)h(issues.)f(ANTLR)g(is)h(a)g(component)f(of)h(the)g
(Purdue)g(Compiler)187 2438 y(Construction)g(T)l(ool)h(Set)h(\(PCCTS\))
775 2422 y FD(2)793 2438 y Fr(.)h(It)f(constructs)e(human-readable)i
(recursi)o(v)o(e-descent)f(parsers)h(in)187 2507 y(0038\2610644/95)o
(/070)o(789)o(\26122$)l(16.00)670 b Fp(Received)11 b(10)g(J)n(une)h
(1994)199 2631 y Fr(c)187 2632 y Fo(\015)p Fr(1995)f(by)f(John)h(W)n
(ile)o(y)g(&)g(Sons,)g(Ltd.)542 b Fp(Re)o(vised)11 b(17)g(November)g
(1994)p eop
%%Page: 790 2
790 1 bop 187 108 a Fn(790)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)m
(.)f(QUONG)187 199 y Fr(C)k(or)g(C++)f(from)h Fq(pr)q(ed)p
Fr(-)p Fq(LL)p Fm(\()p Fq(k)q Fm(\))716 183 y FD(3)o(,4)767
199 y Fr(grammars,)h(namely)f Fq(LL)p Fm(\()p Fq(k)q
Fm(\))f Fr(grammars,)i(for)f Fq(k)i(>)g Fm(1)p Fr(,)e(that)f(support)
187 249 y(predicates.)232 299 y(Predicates)f(allo)o(w)f(arbitrary)h
(semantic)g(and)g(syntactic)e(conte)o(xt)i(to)f(direct)h(the)g(parse)g
(in)f(a)i(systematic)187 349 y(way)m(.)d(As)g(a)h(result,)e(ANTLR)h
(can)h(generate)f(parsers)h(for)f(man)o(y)h(conte)o(xt-sensiti)o(v)o(e)
d(languages)h(and)h(man)o(y)187 399 y(non-)p Fq(LL)p
Fm(\()p Fq(k)q Fm(\))p Fr(/)p Fq(LR)p Fm(\()p Fq(k)q
Fm(\))f Fr(conte)o(xt-free)i(languages.)g(Semantic)h(predicates)f
(indicate)f(the)h(semantic)h(v)o(alidity)187 448 y(of)f(applying)d(a)k
(production;)c(syntactic)h(predicates)i(are)g(grammar)h(fragments)e
(that)h(describe)f(a)h(syntactic)187 498 y(conte)o(xt)h(that)h(must)g
(be)g(satis\256ed)g(before)g(recognizing)g(an)g(associated)f
(production.)g(In)h(practice,)h(man)o(y)187 548 y(ANTLR)j(users)g
(report)g(that)g(de)o(v)o(eloping)f(a)h(pred-)p Fq(LL)p
Fm(\()p Fq(k)q Fm(\))g Fr(grammar)i(is)e(easier)g(than)g(de)o(v)o
(eloping)f(the)187 598 y(corresponding)9 b Fq(LR)p Fm(\(1\))h
Fr(grammar)m(.)232 648 y(In)19 b(addition)e(to)h(a)i(strong)d(parsing)h
(strate)o(gy)m(,)h(ANTLR)f(has)h(man)o(y)g(features)g(that)f(make)h(it)
f(more)187 697 y(programmer)o(-friendly)11 b(than)g(the)g(majority)f
(of)h Fq(LR=LALR)g Fr(and)g Fq(LL)g Fr(parser)h(generators.)247
776 y Fo(\017)21 b Fr(ANTLR)11 b(inte)o(grates)g(the)g(speci\256cation)
g(of)h(le)o(xical)f(and)h(syntactic)f(analysis.)f(A)i(separate)g(le)o
(xical)291 826 y(speci\256cation)i(is)g(unnecessary)h(as)g(le)o(xical)g
(re)o(gular)g(e)o(xpressions)f(\(token)g(descriptions\))f(can)j(be)291
876 y(placed)11 b(in)f(double-quotes)f(and)i(used)g(as)g(normal)g
(token)f(references)i(in)f(an)g(ANTLR)g(grammar)m(.)247
926 y Fo(\017)21 b Fr(ANTLR)10 b(accepts)i(grammar)g(constructs)e(in)g
(Extended)g(Backus-Naur)i(F)o(orm)g(\(EBNF\))g(notation.)247
976 y Fo(\017)21 b Fr(ANTLR)10 b(pro)o(vides)h(facilities)e(for)i
(automatic)g(abstract)g(syntax)f(tree)h(construction.)247
1025 y Fo(\017)21 b Fr(ANTLR)10 b(generates)g(recursi)o(v)o(e-descent)g
(parsers)h(in)f(C/C++)g(so)g(that)g(there)h(is)f(a)h(clear)g
(correspon-)291 1075 y(dence)k(between)g(the)g(grammar)h
(speci\256cation)e(and)h(the)g(ANTLR)g(output.)f(Consequently)m(,)g(it)
g(is)291 1125 y(relati)o(v)o(ely)c(easy)h(for)g(non-parsing)f(e)o
(xperts)h(to)f(design)h(and)g(deb)o(ug)f(an)h(ANTLR)g(grammar)m(.)247
1175 y Fo(\017)21 b Fr(ANTLR)11 b(has)h(both)g(automatic)f(and)h
(manual)h(facilities)d(for)j(error)f(reco)o(v)o(ery)h(and)f(reporting.)
g(The)291 1225 y(automatic)i(mechanism)h(is)g(simple)f(and)h(ef)o
(fecti)o(v)o(e)g(for)g(man)o(y)h(parsing)e(situations;)e(the)j(manual)
291 1274 y(mechanism)f(called)h(\252parser)g(e)o(xception)e
(handling\272)g(simpli\256es)h(de)o(v)o(elopment)g(of)g(high-quality)
291 1324 y(error)d(handling.)247 1374 y Fo(\017)21 b
Fr(ANTLR)16 b(allo)o(ws)g(each)h(grammar)h(rule)f(to)f(ha)o(v)o(e)h
(parameters)g(and)g(return)g(v)o(alues,)f(facilitating)291
1424 y(attrib)o(ute)i(passing)f(during)h(the)h(parse.)h(Because)g
(ANTLR)f(con)n(v)o(erts)g(each)g(rule)h(to)e(a)i(C/C++)291
1474 y(function)11 b(in)i(a)g(recursi)o(v)o(e)g(descent)g(parser)n(,)h
(a)f(rule)g(parameter)h(is)f(simply)f(a)h(function)f(parameter)m(.)291
1523 y(Additionally)l(,)d(ANTLR)i(rules)g(can)g(ha)o(v)o(e)h(multiple)e
(return)h(v)o(alues.)247 1573 y Fo(\017)21 b Fr(ANTLR)7
b(has)h(numerous)g(other)g(features)g(that)g(make)g(it)g(a)g(product)f
(rather)i(than)f(a)g(research)h(project.)291 1623 y(ANTLR)j(itself)g
(is)g(written)f(in)i(highly)e(portable)h(C;)g(its)g(output)f(can)i(be)g
(deb)o(ugged)f(with)f(e)o(xisting)291 1673 y(source-le)o(v)o(el)f(deb)o
(uggers)h(and)g(is)f(easily)h(inte)o(grated)f(into)g(programmers')i
(applications.)232 1752 y(Ultimately)m(,)c(the)h(true)g(test)g(of)g(a)h
(language)e(tool')m(s)h(usefulness)e(lies)i(with)f(the)h(v)o(ast)f
(industrial)f(program-)187 1802 y(mer)k(community)m(.)g(ANTLR)f(is)h
(widely)e(used)h(in)h(the)f(commercial)i(and)e(academic)i(communities.)
e(More)187 1851 y(than)i(1000)g(re)o(gistered)h(users)f(in)h(37)f
(countries)g(ha)o(v)o(e)h(acquired)g(the)f(software)g(since)h(the)f
(original)g(1.00)187 1901 y(release)g(in)f(1992.)f(Se)o(v)o(eral)j(uni)
o(v)o(ersities)c(currently)i(teach)g(courses)g(with)f(ANTLR.)i(Man)o(y)
g(commercial)187 1951 y(programmers)g(use)e(ANTLR;)h(we)g(list)f(some)i
(e)o(xamples)f(in)g(the)g(Appendix.)232 2001 y(F)o(or)d(e)o(xample,)h
(a)f(major)g(corporation)834 1984 y FD(5)858 2001 y Fr(has)g(nearly)f
(completed)g(and)g(is)h(testing)d(a)j(uni\256ed)f(C/Objecti)o(v)o(e-)
187 2051 y(C/C++)h(compiler)f(using)g(an)h(ANTLR)g(grammar)h(that)e
(was)h(deri)o(v)o(ed)f(directly)h(from)g(the)g(June)f(1993)g(ANSI)187
2100 y(X3J16)i(C++)h(grammar)m(.)i([Preliminary)e(measurements)h(sho)o
(w)e(that)h(this)f(ANTLR)h(parser)g(is)g(about)f(20\045)187
2150 y(slo)o(wer)n(,)j(in)g(terms)h(of)g(pure)g(parsing)e(speed,)i
(than)f(a)h(hand-b)o(uilt)e(recursi)o(v)o(e-descent)h(parser)h(that)f
(parses)187 2200 y(only)f(C/Objecti)o(v)o(e-C,)i(b)o(ut)f(not)g(C++].)h
(C++)f(has)h(been)f(traditionally)e(dif)o(\256cult)i(for)h(other)f
Fq(LL)p Fm(\(1\))g Fr(tools)187 2250 y(and)f Fq(LR)p
Fm(\(1\))p Fr(-based)e(tools)h(such)h(as)g(Y)-5 b(A)n(CC)891
2233 y FD(1)908 2250 y Fr(.)11 b(Y)-5 b(A)n(CC)12 b(grammars)g(for)f
(C++)g(are)g(e)o(xtremely)h(fragile)f(with)187 2300 y(re)o(gards)16
b(to)f(action)h(placement;)f(i.e.,)i(the)f(insertion)e(of)i(an)g
(action)g(can)g(introduce)f(con\257icts)g(into)g(the)187
2350 y(C++)c(grammar)m(.)i(In)e(contrast,)g(ANTLR)g(grammars)h(are)f
(insensiti)o(v)o(e)e(to)i(action)f(placement)i(due)e(to)h(their)187
2399 y Fq(LL)p Fm(\()p Fq(k)q Fm(\))f Fr(nature.)232
2449 y(The)19 b(follo)o(wing)d(sections)h(illustrate)g(ANTLR')m(s)i
(speci\256cation)e(language)h(and)g(the)h(features)f(that)187
2499 y(distinguish)13 b(it)j(from)h(other)f(parser)h(generators.)f(As)h
(this)e(paper)i(is)f(an)g(o)o(v)o(ervie)o(w)m(,)h(we)g(ha)o(v)o(e)g
(omitted)187 2549 y(man)o(y)11 b(details.)g(Refer)h(to)f(the)g(current)
g(PCCTS/ANTLR)g(release)h(notes)e(for)i(complete)f(usage)f(details.)684
2698 y(15/8/1995)f(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 791 3
791 2 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(791)747 175 y Fz(T)m(able)8 b(I.)i(ANTLR)f(description)f
(elements.)p 187 213 1810 2 v 186 263 2 50 v 279 248
a Fr(Item)p 454 263 V 271 w(Description)p 1023 263 V
582 w(Example)p 1995 263 V 187 265 1810 2 v 187 275 V
186 325 2 50 v 268 310 a Fp(T)l(oken)p 454 325 V 110
w Fr(be)o(gins)j(with)f(uppercase)h(letter)p 1023 325
V 489 w Fl(ID)p 1995 325 V 186 374 V 243 359 a Fp(T)l(okclass)p
454 374 V 105 w Fr(set)g(of)g(tokens)e(\(token)h(class\))p
1023 374 V 412 w Fl(Operators)p 1995 374 V 186 424 V
230 409 a(\304)p Fp(T)l(okclass)p 454 424 V 74 w Fr(complement)h(set)g
(of)g(T)l(okclass)p 1023 424 V 408 w Fl(\304Keyword)p
1995 424 V 186 524 2 100 v 307 485 a(.)p 454 524 V 214
w Fr(wild)f(card)i(token)e(class)p 1023 524 V 1074 459
a Fl(/*)27 b(match)i(ID)f(or)g(something)h(else)g(*/)1074
509 y(a)e(:)h(ID)g(|)f(.)h(;)p 1995 524 V 186 574 2 50
v 227 559 a Fp(rule)p 304 559 14 2 v 15 w(name)p 454
574 2 50 v 71 w Fr(be)o(gins)10 b(with)g(lo)o(wercase)h(letter)p
1023 574 V 462 w Fl(expr)p 1995 574 V 186 623 V 223 609
a Fp(label)p Fl(:)p Fp(item)p 454 623 V 62 w Fr(label)g(token)f(or)h
(rule)g(reference)p 1023 623 V 366 w Fl(a)28 b(:)f(t:ID)h(;)p
1995 623 V 186 673 V 225 658 a(<<...>>)p 454 673 V 66
w Fr(user)o(-de\256ned)11 b(semantic)g(action)p 1023
673 V 155 w Fl(<<printf\("\045s)q(",)31 b(t->name\);>>)p
1995 673 V 186 723 V 253 708 a(\(...\))p 454 723 V 284
w Fr(subrule)p 1023 723 V 327 w Fl(\("int")e(|)e(ID)h(|)f(storage)p
1707 708 14 2 v 19 w(class\))p 1995 723 2 50 v 186 773
V 239 758 a(\(...\)*)p 454 773 V 273 w Fr(closure)p 1023
773 V 540 w Fl(ID)h(\(",")h(ID\)*)p 1995 773 V 186 823
V 239 808 a(\(...\)+)p 454 823 V 196 w Fr(positi)o(v)o(e)9
b(closure)p 1023 823 V 205 w Fl(slist)29 b(:)e(\()h(stat)g(|)g
(SEMICOLON)i(\)+)d(;)p 1995 823 V 186 873 V 253 858 a({...})p
454 873 V 277 w Fr(optional)p 1023 873 V 530 w Fl({ELSE)i(stat)f(})p
1995 873 V 186 922 V 212 907 a(<<...>>?)p 454 922 V 142
w Fr(semantic)10 b(predicate)p 1023 922 V 211 w Fl(type)28
b(:)g(<<is)p 1422 907 14 2 v 17 w(TYPE\(str\)>>?)j(ID)d(;)p
1995 922 2 50 v 186 972 V 239 957 a(\(...\)?)p 454 972
V 169 w Fr(syntactic)9 b(predicate)p 1023 972 V 165 w
Fl(\(\(list)29 b(EQ\)?)f(list)g(EQ)g(list)g(|)g(list\))p
1995 972 V 187 974 1810 2 v 756 1111 a Fr(DESCRIPTION)12
b(LANGU)n(A)n(GE)187 1186 y(An)k(ANTLR)g Fp(description)f
Fr(or)h Fp(speci\256cation)f Fr(is)h(a)h(collection)e(of)h(rules)g(and)
h(actions)e(preceded)i(by)f(a)187 1235 y(header)h(in)g(which)f(the)h
(user)f(de\256nes)h(required)g(data)g(types,)f(such)h(as)g(the)f(type)h
(of)g(an)g(attrib)o(ute.)f(W)l(e)187 1285 y(originally)9
b(borro)o(wed)i(the)h(notation)e(from)i(Y)-5 b(A)n(CC)12
b(to)f(reduce)h(the)f(learning)g(curv)o(e,)i(b)o(ut)e(since)g(then,)g
(we)187 1335 y(ha)o(v)o(e)f(added)g(numerous)g(e)o(xtensions)e(for)i
(ne)o(w)g(ANTLR)g(features)g(such)g(as)g(predicates,)g(speci\256cation)
f(of)187 1385 y(le)o(xical)j(analysis,)f(error)i(reporting,)f(and)g
(EBNF)h(grouping.)e(T)l(able)i(I)f(summarizes)h(the)f(elements)h(in)f
(an)187 1435 y(ANTLR)f(description.)232 1484 y(An)g(ANTLR)g(rule)g(is)g
(a)g(list)f(of)h(productions)e(or)j(alternati)o(v)o(es)e(separated)h
(by)g(\252)p Fl(|)p Fr(\272:)232 1550 y Fl(rule)29 b(:)e
Fq(al)q(ter)q(nativ)r(e)649 1557 y Fk(1)369 1600 y Fl(|)g
Fq(al)q(ter)q(nativ)r(e)649 1607 y Fk(2)505 1645 y Fl(.)505
1662 y(.)505 1678 y(.)369 1728 y(|)g Fq(al)q(ter)q(nativ)r(e)649
1735 y Fj(n)369 1778 y Fl(;)187 1878 y Fr(where)15 b(each)h(alternati)o
(v)o(e)e(production)g(is)g(composed)h(of)g(a)h(list)e(of)h(elements;)g
(an)g(element)h(is)e(an)i(item)187 1927 y(from)d(T)l(able)g(I.)h(In)f
(this)f(table,)h(the)f(\252)p Fl(...)p Fr(\272)j(within)c(the)i
(grouping)e(constructs)g(can)j(themselv)o(es)e(be)h(lists)187
1977 y(of)e(alternati)o(v)o(es)f(or)h(items.)232 2027
y(Rules)19 b(may)h(also)e(de\256ne)i(ar)o(guments)f(and)g(return)f(v)o
(alues.)h(In)g(the)g(follo)o(wing)e(line,)i(there)g(are)h
Fq(n)187 2077 y Fr(ar)o(guments)11 b(and)g Fq(m)g Fr(return)g(v)o
(alues.)232 2176 y Fl(rule[)p Fq(ar)q(g)435 2183 y Fk(1)455
2176 y Fl(,...,)p Fq(ar)q(g)658 2183 y Fj(n)681 2176
y Fl(])28 b(>)f([)p Fq(r)q(etv)r(al)938 2183 y Fk(1)957
2176 y Fl(,...,)p Fq(r)q(etv)r(al)1213 2183 y Fj(m)1245
2176 y Fl(])h(:)f(...)h(;)187 2276 y Fr(The)11 b(syntax)f(for)h(using)f
(a)i(rule)f(mirrors)g(its)f(de\256nition,)232 2376 y
Fl(a)82 b(:)g(...)29 b(rule[)p Fq(ar)q(g)763 2383 y Fk(1)782
2376 y Fl(,\274,)p Fq(ar)q(g)931 2383 y Fj(n)954 2376
y Fl(])e(>)h([)p Fq(v)1112 2383 y Fk(1)1131 2376 y Fl(,\274,)p
Fq(v)1234 2383 y Fj(m)1266 2376 y Fl(])g(...)341 2425
y(;)187 2525 y Fr(Here,)13 b(the)f(v)o(arious)f Fq(v)534
2532 y Fj(i)560 2525 y Fr(recei)o(v)o(e)i(the)f(return)g(v)o(alues)g
(from)h(the)f(rule)g Fl(rule)p Fr(,)i(so)e(that)f(each)i
Fq(v)1655 2532 y Fj(i)1681 2525 y Fr(must)f(be)h(an)684
2698 y(15/8/1995)c(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 792 4
792 3 bop 187 108 a Fn(792)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)m
(.)f(QUONG)187 199 y Fp(l-value)p Fr(.)232 249 y(W)l(e)17
b(illustrate)e(the)h(major)h(features)f(of)h(ANTLR')m(s)f(description)f
(language)h(via)g(a)h(small)f(e)o(xample.)187 299 y(Consider)10
b(parsing)g(the)h(follo)o(wing)e(simple)i(assembly)g(language.)232
399 y Fl(#segment)30 b(data)232 448 y(a)55 b(ds)28 b(42)232
498 y(b)55 b(ds)28 b(13)232 548 y(#segment)i(code)314
598 y(load)e(r1,)h(a)314 648 y(load)f(r2,)h(b)314 697
y(add)55 b(r1,r2,r3)314 747 y(print)29 b(r3)187 847 y
Fr(Figure)11 b(1)g(contains)f(a)h(complete)g(ANTLR)g(speci\256cation)f
(for)i(this)e(problem.)316 952 y Fw(#header)26 b(<<#include)g("charbuf)
q(.h")q(>>)316 1044 y(<<main\(\))g({ANTLR\(pr)q(og)q(\(\),)g(stdin\);)g
(}>>)316 1135 y(#tokclas)q(s)g(OPCODE)69 b({"add")25
b("store")g("load")g("call")g("ret")g("print")g(})316
1181 y(#tokclas)q(s)h(REGISTER)f({"r0")g("r1")f("r2")g("r3")g(})316
1272 y(#token)h("[\\)f(\\t]+")92 b(<<zzskip\(\))q(;>)q(>)316
1318 y(#token)25 b("\\n")204 b(<<zzskip\(\))q(;)26 b(zzline++;>)q(>)316
1409 y(prog:)70 b("#segment")26 b("data")f(\(data\)*)496
1454 y("#segment")h("code")f(\(stat\)*)406 1500 y(;)316
1546 y(stat:)70 b(OPCODE)25 b(operands)406 1591 y(;)316
1637 y(operands)406 1683 y(:)68 b(ID)406 1728 y(|)g(REGISTER)406
1774 y(|)g(REGISTER)25 b(",")f(NUM)406 1820 y(|)68 b(REGISTER)25
b(",")f(REGISTER)i(",")d(REGISTER)406 1865 y(;)316 1911
y(data:)70 b(ID)23 b("ds")h(NUM)406 1957 y(;)316 2002
y(#token)h(NUM)114 b("[0-9]+")316 2048 y(#token)25 b(ID)136
b("[a-zA-Z]+)q(")576 2127 y Fx(F)n(igur)o(e)8 b(1.)h(ANTLR)g(r)o
(ecognize)o(r)d(for)j(a)g(simple)g(assembly)e(language)o(.)232
2291 y Fr(A)17 b(description)e(for)i(ANTLR)f(dif)o(fers)h(from)g(those)
f(of)h(other)f(parser)h(generators)g(because)f(re)o(gular)187
2341 y(e)o(xpressions)7 b(specifying)g(to)o(kens)f(are)h(speci\256ed)g
(\()p Fl(#token)27 b(ID)p Fr(\))7 b(or)g(directly)g(referenced)g(\()p
Fl(#segment)p Fr(\))187 2390 y(in)14 b(the)g(grammar)m(.)j(Thus,)c
(both)h(the)g(grammatical)h(and)f(the)g(le)o(xical)g(speci\256cation)g
(are)h(contained)e(in)h(a)187 2440 y(single)9 b(\256le,)i(eliminating)e
(the)h(need)g(to)g(maintain)f(two)h(speci\256cations.)f(ANTLR)h
(automatically)f(assigns)187 2490 y(token)14 b(types)h(and)g(generates)
g(a)h(scanner)g(description)d(for)j(DLG,)g(the)f(le)o(xical)g(analyzer)
h(generator)f(in)187 2540 y(PCCTS.)h(Re)o(gular)e(e)o(xpression)g
(ambiguities,)e(such)i(as)h(between)f(ke)o(yword)e Fl(code)k
Fr(and)e(token)f Fl(ID)p Fr(,)j(as)684 2698 y(15/8/1995)9
b(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p eop
%%Page: 793 5
793 4 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(793)187 199 y Fr(the)10 b(input)f(\252)p Fl(code)p
Fr(\272)j(could)e(be)g(either)g(token)f(type,)i(are)g(resolv)o(ed)f(by)
g(matching)f(the)i(token)e(speci\256cation)187 249 y(mentioned)h
(\256rst)h(in)g(the)g(ANTLR)g(grammar)m(.)232 299 y(ANTLR)d(accepts)g
(input)f(in)h(EBNF)l(,)h(as)f(sho)o(wn)f(in)h(T)l(able)g(I,)h(which)e
(simpli\256es)g(grammar)i(de)o(v)o(elopment)187 349 y(and)h(grammar)j
(readability)m(.)c(\(Strict)i(BNF)h(accepts)e(neither)h(subrules,)f
(closures,)g(nor)h(optional)e(items)h(in)187 399 y(a)i(grammar)g
(speci\256cation.\))f(As)g(a)h(further)f(notational)e(shorthand,)h
(ANTLR)i(accepts)f(arbitrary)g(sets)g(of)187 448 y(tokens)g(called)h
Fp(token)g(classes)p Fr(.)h(The)f(user)h(speci\256es)f(a)h(token)f
(class)g(as)h(a)g(set)g(of)g(tokens)e(or)i(other)f(token)187
498 y(classes.)d(A)h(token)e(class)h(is)g(functionally)f(equi)o(v)o
(alent)g(to)h(a)h(subrule)e(whose)h(alternati)o(v)o(es)g(are)h(its)e
(member)187 548 y(tokens;)h(e.g.,)j(referencing)g(token)e(class)g
Fl(REGISTER)k Fr(in)d(Figure)g(1)g(is)f(the)h(same)h(as)f(referencing)
232 648 y Fl(\()28 b("r0")g(|)g("r1")g(|)g("r2")g(|)g("r3")g(\))187
747 y Fr(Using)7 b(a)i(token)f(class)g(is)g(more)i(ef)o(\256cient)f
(than)f(using)f(a)i(subrule,)f(because)h(referencing)g(a)g(token)f
(class)g(is)g(a)187 797 y(simple)h(set)h(membership)g(test.)g(In)g
(contrast,)f(referencing)i(the)e(equi)o(v)o(alent)g(subrule)g(causes)h
(a)g(sequential)187 847 y(search)k(of)g(its)f(alternati)o(v)o(e)g
(items)h(because)g(subrule)e(items)i(might)f(be)h(predicates)g(or)f
(other)h(rules.)g(The)187 897 y(code)f(to)h(test)e(for)i(set)f
(membership)h(is)f(much)h(smaller)f(than)g(a)h(series)g(of)f
Fl(if-else)j Fr(statements)d(for)g(a)187 946 y(subrule.)8
b(Note)h(that)f(automaton-based)g(parsers)h(\(both)f
Fq(LR)h Fr(and)g Fq(LL)p Fr(\))g(automatically)f(perform)h(this)f(type)
187 996 y(of)14 b(set)f(membership)h(\(speci\256cally)m(,)g(a)g(table)g
(lookup\),)f(b)o(ut)g(lack)h(the)g(\257e)o(xibility)e(of)i(recursi)o(v)
o(e-descent)187 1046 y(parsers;)8 b(e.g.,)h(recursi)o(v)o(e-descent)e
(parsers)i(directly)e(support)f(programmer)o(-de\256ned)k(stack-based)d
(local-)187 1096 y(v)o(ariables.)232 1146 y(Note)12 b(that)f(the)h
(grammar)i(in)d(Figure)h(1)g(is)g(not)f Fq(LL)p Fm(\(1\))h
Fr(as)g(it)f(is)h(not)f(left-factored.)h(Because)h(ANTLR)187
1196 y(generates)g Fq(LL)p Fm(\()p Fq(k)q Fm(\))f Fr(recursi)o(v)o
(e-descent)h(parsers,)g(with)f Fq(k)k(>)g Fm(1)p Fr(,)d(ANTLR)f
(grammars)i(require)f(less)g(left-)187 1245 y(factoring)j(than)h
Fq(LL)p Fm(\(1\))g Fr(grammars.)h(The)g(grammar)h(in)e(Figure)g(1)g(is)
g Fq(LL)p Fm(\(3\))p Fr(,)g(as)h(three)f(symbols)g(of)187
1295 y(lookahead)8 b(suf)o(\256ce)i(to)f(dif)o(ferentiate)g(between)g
(the)g(alternati)o(v)o(es)g(of)g Fl(operands)j Fr(when)e(at)f(the)g
(left)h(edge)187 1345 y(of)15 b Fl(operands)p Fr(.)j(In)d(fact,)g(this)
f(grammar)i(also)f(contains)f(decisions)f(that)i(require)g(lookahead)f
(of)h(one)187 1395 y(symbol)10 b(\(subrule)g Fl(\(data\)*)p
Fr(\),)k(and)d(two)f(symbols)g(\(rule)h Fl(prog)p Fr(\).)232
1445 y(ANTLR)e(optimizes)f(lookahead)h(decisions)e(by)i(using)f(as)i
(little)d(lookahead)i(as)g(possible,)f(e)o(v)o(en)h(within)187
1494 y(the)i(same)i(decision.)d(F)o(or)j(e)o(xample,)f(although)e(rule)
i Fl(operands)i Fr(requires)d(three)h(lookahead)f(symbols)187
1544 y(to)c(distinguish)e(between)j(the)f(last)h(two)e(alternati)o(v)o
(es,)i(ANTLR)f(generates)h(a)g(decision)f(that)g(uses)h(only)f(one)187
1594 y(lookahead)f(symbol)h(to)g(distinguish)t(the)g(\256rst)h
(alternati)o(v)o(e)e(from)i(the)g(other)f(three.)h(Thus,)f(the)g
(programmer)187 1644 y(can)k(use)g(the)g(po)o(wer)g(of)g
Fq(k)j(>)f Fm(1)e Fr(lookahead)f(without)f(worrying)h(about)g(ef)o
(\256cienc)o(y)m(.)232 1694 y(User)o(-de\256ned)18 b(actions)g(can)g
(be)g(inserted)g(an)o(ywhere)g(in)g(an)g(ANTLR)g(production.)e(Such)j
(actions)187 1743 y(are)13 b(often)g(used)f(to)g(perform)i(semantic)e
(tests,)h(generate)g(an)g(intermediate)f(representation,)g(or)h
(directly)187 1793 y(generate)f(a)g(translation.)e(An)h(action)g
(placed)g(at)h(the)f(be)o(ginning)f(of)i(the)f(\256rst)h(production)e
(of)h(an)o(y)h(rule)g(or)187 1843 y(subrule)h(is)h(special;)f(these)h
(actions)f(are)i Fp(init-actions)c Fr(and)j(can)g(be)h(used)e(to)h
(de\256ne)h(local)e(v)o(ariables)h(or)187 1893 y(e)o(x)o(ecute)g(code)g
(that)f(must)g(be)h(e)o(x)o(ecuted)g(before)g(an)o(y)f(production)f(is)
h(attempted.)h(Thus,)f(an)h(init-action)187 1943 y(applies)g(to)h(all)f
(productions)f(in)i(a)g(rule.)h(Local)f(v)o(ariables)f(are)i(useful)e
(for)h(recursi)o(v)o(ely-in)n(v)o(oked)e(rules)187 1993
y(because)e(a)h(ne)o(w)e(copy)h(of)g(a)g(v)o(ariable)g(is)g(a)o(v)o
(ailable)f(per)h(rule)g(in)n(v)o(ocation;)f(in)g(contrast,)h
(simulating)e(local)187 2042 y(v)o(ariables)h(in)h(a)g(table-dri)o(v)o
(en)g(parser)g(requires)g(a)h(software)e(stack,)h(which)g(is)f(incon)n
(v)o(enient)g(and)h(tedious)187 2092 y(to)g(implement.)232
2142 y(Actions)16 b(in)g(an)h(ANTLR)f(grammar)i(may)g(access)f(attrib)o
(utes)e(via)h(labels)g(\(attached)h(to)f(token)g(and)187
2192 y(rule)e(references\))h(of)g(the)f(form)h Fi($label)f
Fr(rather)g(than)g(the)g(con)n(v)o(entional)f(\252)p
Fl($)p Fq(i)p Fr(\272)i(for)f(some)h(inte)o(ger)f Fq(i)p
Fr(.)g(By)187 2242 y(using)d(symbols)g(instead)h(of)g(inte)o(ger)h
(identi\256ers,)f(grammars)h(are)g(more)h(readable)e(and)h(actions)e
(are)i(not)187 2291 y(sensiti)o(v)o(e)c(to)i(positional)e(changes)i(to)
f(rule)h(elements.)684 2698 y(15/8/1995)e(18:01)h(P)l(A)n(GE)h(PR)n
(OOFS)h(antlr)p eop
%%Page: 794 6
794 5 bop 187 108 a Fn(794)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)m
(.)f(QUONG)814 199 y Fr(P)l(ARSING)j(STRENGTH)187 274
y Fq(LL)p Fm(\()p Fq(k)q Fm(\))e Fh(Parsing)g(F)o(or)h
Fq(k)j(>)f Fm(1)232 399 y Fr(ANTLR)j Fq(pr)q(ed)p Fr(-)p
Fq(LL)p Fm(\()p Fq(k)q Fm(\))f Fr(parsers)h(compare)h(fa)o(v)o(orably)f
(to)f Fq(LR)p Fm(\(1\))h Fr(parsers)1487 382 y FD(6)1503
399 y Fr(.)h(In)f(both)f(theory)h(and)187 448 y(practice,)g(there)g
(are)g(languages)f(that)g(are)h Fq(LR)p Fm(\(1\))f Fr(b)o(ut)g(not)g
Fq(LL)p Fm(\(3\))p Fr(,)g(and)h(vice)g(v)o(ersa.)g(Use)g(of)f
Fq(k)20 b Fm(=)g(2)187 498 y Fr(or)15 b Fq(k)k Fm(=)g(3)c
Fr(signi\256cantly)e(reduces)i(the)g(need)g(to)f(left-factor)h(rules.)g
(In)g(all)g(cases,)g(ANTLR)g(computes)187 548 y(and)e(uses)f(the)h
(minimum)g(lookahead)f(necessary)h(for)g(each)h(decision)e(within)f
(the)i(grammar)n(,)i(speeding)187 598 y(up)g(grammar)h(analysis)e(and)h
(parsing)g(speed)g(and)g(reducing)f(the)h(parser)h(code)f(size.)h(In)f
(practice,)h(one)187 648 y(lookahead)g(token)f(suf)o(\256ces)i(for)g
(man)o(y)g(decisions,)f(so)g(ANTLR)h(parsers)g(are)g(nearly)g(as)g(ef)o
(\256cient)g(as)187 697 y Fq(LL)p Fm(\(1\))10 b Fr(recursi)o(v)o
(e-descent)h(parsers.)232 747 y(W)l(e)k(no)o(w)e(illustrate)f(ho)o(w)h
(an)h Fq(LL)p Fm(\(2\))f Fr(grammar)i(can)f(be)g(much)g(simpler)f(to)h
(design)e(than)i(an)f Fq(LL)p Fm(\(1\))187 797 y Fr(grammar)m(.)d
(Consider)e(distinguishi)o(ng)d(between)j(C)h(labels)f(\252)p
Fl(ID)28 b(:)p Fr(\272)9 b(and)f(C)h(assignment)e(statements)h(\252)p
Fl(ID)187 847 y(=)27 b(\274)p Fr(\272)14 b(when)f(parsing.)f(In)h(the)g
(follo)o(wing)e(grammar)j(fragment,)g(rule)f Fl(stat)h
Fr(requires)f(two)f(lookahead)187 897 y(symbols,)g(and)h(is)g(easily)f
(e)o(xpressed)h(with)f(an)h Fq(LL)p Fm(\(2\))f Fr(grammar)m(.)k(This)c
(common)h(language)g(feature)g(is)187 946 y(hard)j(to)f(e)o(xpress)g
(in)h(an)g Fq(LL)p Fm(\(1\))f Fr(grammar)n(,)i(because)f
Fl(ID)g Fr(is)g(matched)g(in)f(man)o(y)h(grammar)h(locations)187
996 y(making)11 b(it)f(dif)o(\256cult)g(to)h(left-factor)g(rules)f
Fl(stat)j Fr(and)e Fl(expr)p Fr(.)232 1060 y Fl(stat:)83
b(ID)28 b(":")g(stat)247 b(/*)28 b(statement)h(label)g(*/)341
1110 y(|)82 b(expr)29 b(";")328 b(/*)28 b(assignment)i(stat)e(*/)341
1160 y(;)232 1210 y(expr:)83 b(ID)28 b("=")g(expr)341
1259 y(|)82 b(INT)341 1309 y(;)232 1409 y Fr(Although)10
b(using)g Fq(k)15 b(>)f Fm(1)e Fr(symbols)e(of)i(lookahead)f(is)g
(useful,)g(there)h(are)h(man)o(y)f(language)f(constructs)187
1459 y(that)f(are)i(not)f Fq(LL)p Fm(\()p Fq(k)q Fm(\))g
Fr(for)g(an)o(y)h(\256nite)f Fq(k)q Fr(.)h(T)l(ypically)m(,)e(these)h
(constructs)f(are)i(conte)o(xt)f(sensiti)o(v)o(e)e(or)j(require)187
1508 y(unbounded)18 b(lookahead)h(\(i.e.,)i(the)f(entire)g(construct)f
(must)h(be)g(seen)g(before)g(it)g(may)g(be)g(uniquely)187
1558 y(identi\256ed\).)15 b(W)l(e)h(outline)e(the)i(predicate)f
(mechanism)h(that)f(allo)o(ws)g(ANTLR)g(to)g(handle)g(man)o(y)h(nasty)
187 1608 y(recognition)9 b(problems)i(in)f(the)h(ne)o(xt)g(section.)187
1733 y Fh(Pr)o(edicates)232 1857 y Fr(ANTLR)d(supports)e(the)i(use)g
(of)h(the)e Fp(semantic)g Fr(and)h Fp(syntactic)f(pr)n(edicates)p
Fr(,)h(which)f(let)h(the)g(programmer)187 1907 y(indicate)15
b(the)h(semantic)g(and)g(syntactic)f(v)o(alidity)g(of)h(applying)e(a)j
(production,)e(allo)o(wing)f(ANTLR)i(to)187 1957 y(naturally)c(handle)h
(man)o(y)h(dif)o(\256cult)f(parsing)f(situations.)g(Predicates)h(are)h
(described)f(fully)g(else)o(where)1853 1940 y FD(4)1869
1957 y Fr(.)187 2007 y(Here,)f(we)f(present)g(two)f(simple)h(e)o
(xamples)g(demonstrating)e(their)i(po)o(wer)m(.)232 2056
y(The)f(\256rst)g(e)o(xample)g(illustrates)e(semantic)h(predicates.)h
(Consider)f(FOR)m(TRAN)i(array)f(references)h(and)187
2106 y(function)f(calls,)h(which)g(are)i(syntactically)c(identical,)i
(b)o(ut)g(semantically)f(dif)o(ferent.)i(Depending)e(on)h(the)187
2156 y(type)f(of)i Fl(VAL)p Fr(,)g(the)f(follo)o(wing)e(e)o(xpression)h
(could)h(be)g(either)g(an)g(array)h(reference)g(or)f(a)h(function)e
(call.)232 2256 y Fl(VAL\(13,I\))187 2355 y Fr(One)f(common)h(solution)
d(to)h(resolv)o(e)h(this)g(syntactic)f(ambiguity)g(is)g(for)i(the)f(le)
o(xical)g(analyzer)g(to)g(e)o(xamine)187 2405 y(the)14
b(symbol)g(table)g(and)g(to)g(return)g(a)h(dif)o(ferent)f(lookahead)g
(token)f(type)h(based)g(on)h(whether)f(the)g(input)187
2455 y(identi\256er)e Fl(VAL)h Fr(is)g(a)g(v)o(ariable)f(or)g(a)h
(function.)f(The)h(grammar)h(would)d(then)h(reference)i(dif)o(ferent)e
(token)187 2505 y(types,)f(say)m(,)g Fl(FUNC)i Fr(and)f
Fl(VAR)p Fr(,)g(and)g(would)e(be)h(conte)o(xt-free.)h(Ho)o(we)o(v)o(er)
n(,)g(semantic)f(predicates)g(pro)o(vide)684 2698 y(15/8/1995)e(18:01)h
(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p eop
%%Page: 795 7
795 6 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(795)187 199 y Fr(a)12 b(more)h(ele)o(gant)e(and)h(more)g(general)g
(solution.)e(The)i(same)g(e)o(xpression)f(that)h(would)e(normally)h(be)
h(used)187 249 y(to)k(return)g(dif)o(ferent)g(token)f(types)g(may)i(be)
g(used)e(to)h(alter)h(the)f(normal)g Fq(LL)p Fm(\()p
Fq(k)q Fm(\))g Fr(parsing)f(strate)o(gy)h(by)187 299
y(annotating)9 b(the)i(grammar:)232 359 y Fw(expr)24
b(:)f(<<isvar\(L)q(AT)q(EX)q(T\(1)q(\)\))q(>>?)49 b(ID)23
b(")p Fg(n)p Fw(\(")h(expr)p 1171 359 12 2 v 15 w(list)g(")p
Fg(n)p Fw(\)")g(<<)10 b Ff(array)p 1538 359 V 13 w(ref)p
1592 359 V 14 w(action)p Fw(>>)344 404 y(|)23 b(<<isfunc\()q(LA)q(TE)q
(XT\()q(1\))q(\)>>)q(?)j(ID)d(")p Fg(n)p Fw(\(")h(expr)p
1171 404 V 15 w(list)g(")p Fg(n)p Fw(\)")g(<<)10 b Ff(fn)p
1492 404 V 14 w(call)p 1560 404 V 13 w(action)p Fw(>>)344
450 y(;)187 545 y Fr(where)k Fl(isvar\(LATEXT\()q(1\)\))k
Fr(and)c Fl(isfunc\(LATEXT\()q(1\)\))k Fr(are)d(user)o(-de\256ned)f
(functions)e(that)187 595 y(e)o(xamine)e(the)f(symbol)f(table)h(and)h
(return)f(true)g(if)g(\256rst)h(lookahead)e(symbol,)h
Fl(LATEXT\(1\))p Fr(,)j(is)d(a)h(v)o(ariable)187 645
y(or)h(a)h(function,)e(respecti)o(v)o(ely)m(.)232 695
y(A)i(semantic)g(predicate)f(is)g(a)i(user)o(-de\256ned)e(action)g
(that)g(e)o(v)o(aluates)g(to)h(either)f(true)h(\(success\))f(or)h
(false)187 745 y(\(failure\))i(and,)g(broadly)g(speaking,)g(indicates)f
(the)h(semantic)g(v)o(alidity)e(of)j(continuing)d(with)h(the)i(parse)
187 794 y(be)o(yond)d(the)h(predicate.)g(Semantic)g(predicates)g(are)g
(speci\256ed)g(via)g(\252)p Fq(<<)j(pr)q(edicate)e(>>)p
Fl(?)p Fr(\272)g(and)f(may)187 844 y(be)c(interspersed)f(among)h(the)f
(grammar)j(elements)d(on)h(the)g(right)f(hand)g(side)h(of)g
(productions)e(like)h(normal)187 894 y(actions.)232 944
y(W)l(e)i(no)o(w)e(sho)o(w)g(ho)o(w)g(syntactic)g(predicates)g(are)i
(used)e(via)h(e)o(xample.)g(Occasionally)m(,)f(the)h(programmer)187
994 y(will)g(face)h(a)g(language)f(construct)g(that)g(cannot)g(be)h
(parsed)f(with)g(an)h Fq(LR)p Fm(\()p Fq(k)q Fm(\))f
Fr(or)h Fq(LL)p Fm(\()p Fq(k)q Fm(\))g Fr(parser)g(e)o(v)o(en)g(with)
187 1044 y(the)h(help)g(of)h(semantic)g(predicates.)f(Often)h(these)f
(constructs)f(simply)h(require)g(unbounded)f(lookahead,)187
1093 y(that)16 b(is,)h(with)f(a)h(\256nite)g(lookahead)f(b)o(uf)o(fer)n
(,)h(the)g(parser)g(is)g(unable)f(to)h(determine)f(which)h(of)g(a)g
(set)g(of)187 1143 y(alternati)o(v)o(e)10 b(productions)g(to)g
(predict.)i(W)l(e)g(turn)e(to)h(parsing)g(C++)g(for)g(a)h(nasty)e(e)o
(xample.)j(Quoting)c(from)187 1193 y(Ellis)h(and)h(Stroustrup)559
1176 y FD(7)576 1193 y Fr(,)291 1284 y(\252There)i(is)g(an)g(ambiguity)
f(in)g(the)h(grammar)h(in)n(v)o(olving)d Fp(e)o(xpr)n
(ession-statements)g Fr(and)h Fp(dec-)291 1334 y(lar)o(ations)e
Fr(\274The)j(general)g(cases)g(cannot)f(be)h(resolv)o(ed)f(without)f
(backtracking)h(\274In)h(par)o(-)291 1384 y(ticular)n(,)e(the)g
(lookahead)f(needed)h(to)g(disambiguate)e(this)h(case)i(is)f(not)f
(limited.)m(\272)187 1475 y(The)h(authors)f(use)h(the)g(follo)o(wing)e
(e)o(xamples)i(to)g(make)g(their)g(point,)f(where)i Fl(T)f
Fr(represents)g(a)g(type:)232 1575 y Fl(T\(*a\)->m=7;)140
b(//)39 b Fp(e)o(xpr)n(ession-statement)8 b(with)j(type)g(cast)g(to)f
(T)232 1625 y Fl(T\(*a\)\(int\);)140 b(//)39 b Fp(pointer)9
b(to)i(function)f(declar)o(ation)187 1724 y Fr(Clearly)m(,)f(the)f(two)
g(types)g(of)g(statements)g(are)i(not)e(distinguis)o(hable)e(from)j
(the)f(left)h(as)f(an)h(arbitrary)g(number)187 1774 y(of)15
b(symbols)g(may)h(be)f(seen)h(before)f(a)h(decision)f(can)g(be)h(made;)
g(here,)g(the)f(\252)p Fl(->)p Fr(\272)i(symbol)d(is)h(the)h(\256rst)
187 1824 y(indication)9 b(that)i(the)f(\256rst)i(e)o(xample)f(is)g(a)g
(statement.)g(Quoting)f(Ellis)f(and)i(Stroustrup)f(further)n(,)291
1915 y(\252In)h(a)h(parser)f(with)f(backtracking)g(the)h
(disambiguating)e(rule)i(can)g(be)h(stated)e(simply:)340
2023 y(1.)20 b(If)12 b(it)f(looks)e(like)i(a)g Fp(declar)o(ation)p
Fr(,)f(it)g(is;)h(otherwise)340 2073 y(2.)20 b(if)11
b(it)g(looks)f(like)g(an)h Fp(e)o(xpr)n(ession)p Fr(,)g(it)g(is;)f
(otherwise)340 2123 y(3.)20 b(it)11 b(is)g(a)g(syntax)f(error)m(.)m
(\272)187 2231 y(The)g(solution)e(in)i(ANTLR)f(is)h(to)g(use)g(a)g
(syntactic)f(predicate)h(and)h(simply)e(to)g(do)h(e)o(xactly)g(what)g
(Ellis)f(and)187 2281 y(Stroustrup)h(indicate,)232 2344
y Fl(stat:)83 b(\(declaration)q(\)?)31 b(declaration)341
2394 y(|)82 b(expression)341 2444 y(;)684 2698 y Fr(15/8/1995)9
b(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p eop
%%Page: 796 8
796 7 bop 187 108 a Fn(796)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)m
(.)f(QUONG)187 199 y Fr(In)16 b(the)f(\256rst)h(production)e(of)i(rule)
g Fl(stat)p Fr(,)h(the)f(syntactic)e(predicate)i Fl(\(declaration\))q
(?)j Fr(indicates)187 249 y(that)d Fl(declaration)k Fr(is)d(the)g
(syntactic)e(conte)o(xt)i(that)f(must)h(be)g(present)f(for)i(the)e
(rest)h(of)g(that)g(pro-)187 299 y(duction)c(to)h(succeed.)h(W)l(e)h
(can)f(interpret)f(the)g(use)h(of)f(\252)p Fl(\(declaratio)q(n\)?)p
Fr(\272)19 b(as)14 b(\252I)i(am)f(not)f(sure)h(if)187
349 y Fl(declaration)k Fr(will)14 b(match;)i(let)f(me)i(try)e(it)g(out)
g(and,)h(if)g(it)f(does)g(not)g(match,)h(I)g(shall)f(try)g(the)h(ne)o
(xt)187 399 y(alternati)o(v)o(e.)m(\272)f(Thus,)g(when)g(encountering)g
(a)h(v)o(alid)e(declaration,)h(the)h(rule)f Fl(declaration)k
Fr(will)c(be)187 448 y(recognized)d(twice\261once)g(as)g(syntactic)g
(predicate)g(and)g(once)h(during)e(the)h(actual)h(parse)f(to)g(e)o(x)o
(ecute)h(se-)187 498 y(mantic)c(actions.)g(If)h(an)f(e)o(xpression)g
(is)g(found)f(instead,)h(the)g(declaration)g(rule)g(will)f(be)i
(attempted)f(at)g(most)187 548 y(once)i(\()p Fl(declaration)j
Fr(will)d(not)f(be)h(attempted)g(for)g(ob)o(vious)f(e)o(xpressions)g
(such)g(as)i(\252)p Fl(a=3+4)p Fr(\272\).)232 598 y(Syntactic)17
b(predicates)g(ha)o(v)o(e)h(the)f(form)g(\252)p Fl(\()28
b Fq(\013)g Fl(\)?)p Fr(\272)18 b(and)f(may)h(appear)g(on)f(the)g(left)
g(edge)g(of)g(an)o(y)187 648 y(production)8 b(of)i(a)g(rule)g(or)g
(subrule.)g(The)g(required)f(syntactic)g(condition,)g
Fq(\013)p Fr(,)h(may)h(be)f(an)o(y)g(v)o(alid)f(conte)o(xt-)187
697 y(free)g(grammar)h(fragment.)f(Syntactic)f(predicates)g(were)i
(introduced)d(into)g(ANTLR)i(v)o(ersion)e(1.10)1765 681
y FD(8)1781 697 y Fr(;)i(the)o(y)187 747 y(represent)h(a)h(form)h(of)e
(selecti)o(v)o(e)h(backtracking)e(that)h(signi\256cantly)f(enhances)i
(the)f(recognition)f(strength)187 797 y(of)g(normal)f
Fq(LL)p Fm(\()p Fq(k)q Fm(\))h Fr(parsing)e(while)h(not)g
(signi\256cantly)f(increasing)h(the)g(parse)h(time.)g(\(In)g(our)g(e)o
(xample,)g(we)187 847 y(parse)j(local)f(v)o(ariable)g(declarations)f
(twice,)i(b)o(ut)f(these)g(declarations)g(typically)e(are)k(comprised)e
(of)h(only)187 897 y(a)g(fe)o(w)g(symbols)e(such)h(as)h(\252)p
Fl(int)28 b(i;)p Fr(\272)13 b(and)e(furthermore,)i Fl(declaration)h
Fr(would)c(not)h(be)h(attempted)187 946 y(for)f(ob)o(vious)e
(statements)g(like)h Fl(if)p Fr(-statements)g(because)h(of)g(the)f
(normal)h(\256nite)f(lookahead)g(prediction\).)187 1071
y Fh(Attrib)o(ute)i(parsing)232 1146 y Fr(A)k(top-do)o(wn)f(parser)h
(can)g(pass)g(information)f(into)g(rules)g(\()p Fp(attrib)o(ute)f
(inheritance)p Fr(\))h(as)h(well)f(as)h(out)187 1196
y(of)g(rules,)h(namely)g(it)f(can)h(perform)g Fq(L)p
Fr(-attrib)o(uted)e(translations)1257 1179 y FD(9)o(,10)1310
1196 y Fr(;)h(ANTLR)g(is)g(no)h(e)o(xception.)f(W)l(e)187
1245 y(illustrate)9 b(the)j(attrib)o(ute)e(passing)g(facilities)f(of)j
(ANTLR)f(via)g(a)h(simple)e(e)o(xample.)j(Consider)d(a)i(rule)f(that)
187 1295 y(recognizes)17 b(declarations)f(for)h(both)g(v)o(ariable)f
(and)h(function)f(parameters.)j(T)l(o)e(distinguish)d(between)187
1345 y(v)o(ariables)c(and)h(parameters,)h(we)g(pass)e(the)h(current)g
(scope)g(or)g(conte)o(xt)g(into)f(the)h(rule.)232 1409
y Fl(<<enum)29 b(ScopeType)h({GLOBAL,)f(PARAMETER};>)q(>)232
1459 y(globals)341 1508 y(:)110 b(\()27 b(declaration[)q(GLOB)q(AL])k
(\)*)341 1558 y(;)232 1608 y(func:)111 b(type)28 b(ID)g(")p
Fo(n)p Fl(\(")g(\()f(declaration[)q(PARA)q(METE)q(R])k(\)*)c(")p
Fo(n)p Fl(\)")341 1658 y(;)232 1708 y(declaration[)q(Scop)q(eTyp)q(e)j
(context])341 1757 y(:)110 b(type)28 b(ID)g(<<)12 b Fp(de\256ne)f
(variable)f(based)g(upon)26 b Fl($context;>>)341 1807
y(;)187 1907 y Fr(W)l(e)11 b(ha)o(v)o(e)g(adapted)g(the)f(attrib)o
(ute-access)g(notation,)f(in)h(which)g(\252)p Fl($)q(context)p
Fr(\272)j(represents)d(the)g(v)o(alue)h(of)187 1957 y(the)f(attrib)o
(ute)f(passed)h(into)g Fl(declaration)j Fr(from)e(Y)-5
b(A)n(CC.)11 b(An)g(attrib)o(ute)e(can)i(be)f(an)o(y)h(v)o(alid)e(C)i
(or)g(C++)187 2006 y(type.)627 2131 y(HIGH-LEVEL)f(PR)n(OGRAMMER)j
(SUPPOR)m(T)187 2206 y(ANTLR)e(contains)g(a)h(number)g(of)g(features)g
(that)f(signi\256cantly)f(increase)i(its)f(usability)m(.)f(In)i(this)e
(section,)187 2256 y(we)g(describe)g(ANTLR')m(s)g(inte)o(grated)f(le)o
(xical)h(and)g(syntactic)f(descriptions,)f(its)h(error)i(reporting)e
(facility)m(,)187 2305 y(and)i(its)f(automatic)h(tree)g(construction)e
(mechanism.)187 2430 y Fh(Integration)i(of)g(lexical)f(and)i(syntactic)
f(analysis)232 2505 y Fr(An)f(ANTLR)f(description)f(contains)h(both)f
(the)i(le)o(xical-analyzer)f(speci\256cation)g(\(for)h(tokens\))e(and)i
(the)684 2698 y(15/8/1995)f(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 797 9
797 8 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(797)187 199 y Fr(parser)12 b(speci\256cation)f(\(the)h(grammar\),)
i(which)e(eliminates)f(the)h(need)g(to)g(ha)o(v)o(e)g(separate)g
(\256les)g(for)h(each.)187 249 y(ANTLR)k(automatically)g(e)o(xtracts)h
(a)g(le)o(xical)g(analyzer)g(description)e(from)i(the)g(inte)o(grated)f
(ANTLR)187 299 y(description)9 b(and)i(passes)g(it)f(to)h(DLG,)g(the)g
(le)o(xical)g(analyzer)g(generator)g(in)g(PCCTS.)232
363 y Fl(#token)29 b(INT)56 b("[0-9]+")232 413 y(stat:)83
b("while")30 b(expr)e("do")g(stat)341 462 y(|)82 b("return")30
b(expr)e(";")341 512 y(;)232 562 y(expr:)56 b(INT)28
b(\()g("\\+")g(INT)g(\)*)55 b(/*)28 b(match)h('+'-separated)i(integers)
e(*/)341 612 y(;)232 711 y Fr(T)l(okens)10 b(are)h(declared)g(either)f
(by)g(a)h Fl(#token)i Fr(declaration)c(or)i(by)f(direct)g(reference)i
(in)e(the)h(grammar;)187 761 y(the)d(latter)g(method)g(is)h(especially)
e(con)n(v)o(enient)h(for)h(ke)o(ywords.)e(T)l(okens)g(are)j
(speci\256ed)e(as)h(re)o(gular)f(e)o(xpres-)187 811 y(sions,)g(which)h
(must)g(be)g(enclosed)g(in)f(double)h(quotes.)f(F)o(or)i(e)o(xample,)g
(the)f(preceding)g(grammar)i(declares)187 861 y(the)g(token)f
Fl(INT)i Fr(via)f Fl(#token)p Fr(,)i(and)e(it)g(directly)f(refers)i(to)
f(the)g Fl(while)h Fr(ke)o(yword)e(as)i(a)f(token.)f(W)l(e)i(ha)o(v)o
(e)187 911 y(labeled)f(the)g(speci\256cation)g(for)g
Fl(INT)i Fr(for)e(clarity)g(as)h(it)f(is)g(used)g(more)h(than)f(once.)h
(Consequently)m(,)e(DLG)187 961 y(would)f(recei)o(v)o(e)j(six)f(token)e
(speci\256cations,)i(one)g(for)g(each)h(double-quoted)d(re)o(gular)i(e)
o(xpression.)232 1010 y(As)j(with)f(other)h(le)o(x)o(er)h(generators,)f
(actions)f(can)h(be)g(attached)g(to)g(token)e(speci\256cations.)i(An)f
(action)187 1060 y(is)d(e)o(x)o(ecuted)i(when)f(the)g(corresponding)e
(token)h(is)h(recognized)g(in)f(the)h(input)f(stream.)i(F)o(or)g(e)o
(xample,)g(the)187 1110 y Fl(#token)h Fr(speci\256cation)d(\(using)g
(the)h(C)h(interface\))232 1210 y Fl(#token)29 b("\\n")g(<<zzline++;)h
(zzskip\(\);>>)187 1309 y Fr(indicates)13 b(that)h(when)g(we)g
(encounter)g(a)h(ne)o(wline)e(character)j(\()p Fl(")p
Fo(n)p Fl(n")p Fr(\),)f(we)g(increment)f(the)h(prede\256ned)187
1359 y(line)c(number)g(v)o(ariable)g Fl(zzline)i Fr(and)f(then)f(call)g
(the)g(le)o(xical)g(analyzer)h(to)f(\256nd)h(another)f(token,)f(so)h
(that)187 1409 y(the)g(parser)g(need)g(not)g(see)g(ne)o(wlines.)232
1459 y(ANTLR)h(allo)o(ws)f(the)h(use)h(of)f(multiple)f(le)o(xical)h
(analyzers)g(within)f(the)h(same)h(ANTLR)f(description;)187
1508 y(this)f(ability)f(can)j(simplify)e(parsing)g(of)h(languages)f
(with)h(wildly)e(v)o(arying)h(input)g(formats.)i(While)e(other)187
1558 y(tools)h(such)i(as)f(LEX)h(allo)o(w)f(multiple)f(le)o(x)o(er)j
(automata)f(within)e(one)h(description,)g(the)g(programmer)i(is)187
1608 y(required)e(to)h(switch)e(automata)i(in)g(le)o(xical)f(actions.)g
(This)g(process)h(is)f(dif)o(\256cult)g(without)f(kno)o(wing)g(the)187
1658 y(grammatical)f(conte)o(xt,)g(and)g(is,)g(therefore,)h(much)f
(easier)h(to)f(do)f(within)g(a)h(parser)h(action.)232
1708 y(In)j(future)g(v)o(ersions)e(of)i(ANTLR,)g(we)g(anticipate)f
(allo)o(wing)f Fq(pr)q(ed)p Fr(-)p Fq(LL)p Fm(\()p Fq(k)q
Fm(\))g Fr(constructs)h(to)g(describe)187 1758 y(input)d(tokens.)g
(This)h(idea)g(from)h(Y)-5 b(A)n(CC++)889 1741 y Fe(\003)920
1758 y Fr(would)11 b(pro)o(vide)h(a)h(consistent)d(and)j(po)o(werful)e
(description)187 1807 y(language.)187 1932 y Fh(Err)o(or)h(handling)232
2007 y Fr(ANTLR)18 b(has)g(two)f(mechanisms)i(for)f(error)h(reporting)e
(and)h(reco)o(v)o(ery)m(.)i(In)e(the)g(\256rst)g(mechanism,)187
2056 y(ANTLR)g(automatically)e(generates)i(error)h(messages)f(using)e
(a)j(simple,)f(ef)o(fecti)o(v)o(e)g(heuristic)f(that)g(is)187
2106 y(suf)o(\256cient)8 b(for)h(man)o(y)g(applications.)e(Ho)o(we)o(v)
o(er)n(,)i(when)f(more)i(sophisticated)c(error)j(handling)e(is)i
(required,)187 2156 y(say)16 b(for)h(commercial-quality)f(software,)g
(ANTLR)h(pro)o(vides)f(a)h(second)f(mechanism)h(called)f
Fp(parser)187 2206 y(e)o(xception)j(handling)e Fr(that)h(pro)o(vides)h
(the)g(\257e)o(xibility)e(of)j(hand-b)o(uilt)d(reporting)h(and)h(reco)o
(v)o(ery)h(in)f(a)187 2256 y(con)n(v)o(enient)10 b(frame)o(work.)i(W)l
(e)f(be)o(gin)g(by)g(describing)f(ANTLR')m(s)h(automatic)g(mechanism.)
232 2305 y(The)j(automatic)g(error)g(handler)g(reports)f(where)i(the)f
(error)g(was)g(detected)g(and)f(what)h(was)g(e)o(xpected)187
2355 y(\(reco)o(v)o(ery)21 b(is)e(discussed)f(belo)o(w\).)i(F)o(or)g(e)
o(xample,)h(consider)e(matching)g(the)h(rule)f Fl(stat)i
Fr(using)e(the)187 2405 y(follo)o(wing)9 b(grammar)j(fragment,)p
187 2442 200 3 v 187 2467 a Fd(\003)213 2479 y Fs(Y)l(A)o(CC++)c(is)g
(a)g(registered)f(trademark)g(of)h(Compiler)g(Resources,)f(Inc.)684
2698 y Fr(15/8/1995)i(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 798 10
798 9 bop 187 108 a Fn(798)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)m
(.)f(QUONG)232 203 y Fw(stat:)70 b("if")24 b(expr)g("then")h(stat)46
b("else")25 b(stat)322 249 y(|)68 b("while")25 b(expr)f("do")g(stat)322
295 y(|)68 b(VAR)23 b(":=")h(expr)g(";")322 340 y(|)68
b("begin")25 b(\()e(stat)h(\)+)f("end")322 386 y(;)232
477 y(expr:)70 b(atom)24 b(\()e(")p Fg(n)p Fw(+")i(atom)g(\)*)322
523 y(;)232 614 y(atom:)70 b(INT)322 660 y(|)e(FLOAT)322
706 y(;)187 801 y Fr(where)12 b Fl(INT)p Fr(,)h Fl(FLOAT)p
Fr(,)g(and)f Fl(VAR)h Fr(are)f(de\256ned)g(as)f(inte)o(ger)n(,)h
(\257oat,)g(and)g(identi\256er)f(tokens,)f(respecti)o(v)o(ely)m(.)187
851 y(Gi)o(v)o(en)g(the)h(input)441 951 y Fl(34)187 1050
y Fr(ANTLR)g(automatically)e(generates)i(the)g(error)h(message)232
1150 y Fl(line)29 b(1:)e(syntax)i(error)g(at)f("34")g(missing)h({if)f
(while)h(VAR)f(begin)h(})187 1249 y Fr(which)12 b(indicates)f(the)h
(\256rst)g(token)f(of)i(the)f(syntax)f(error)i(and)g(the)f(set)g(of)g
(tokens)f(that)h(would)f(ha)o(v)o(e)i(been)187 1299 y(permissible.)232
1349 y(Upon)e(reading)f(the)h(input)232 1449 y Fl(if)28
b(34+)g(then)h(i:=1;)187 1548 y Fr(the)11 b(error)g(message)h(would)d
(be)232 1648 y Fl(line)29 b(1:)e(syntax)i(error)g(at)f("then")h
(missing)g({INT)f(FLOAT}.)187 1748 y Fr(While)18 b(correct,)h(these)f
(messages)h(could)f(be)g(clearer)m(.)j(Consequently)m(,)c(the)h(user)h
(can)f(specify)h Fp(err)n(or)187 1797 y(classes)p Fr(,)10
b(which)g(are)i(named)f(sets)f(of)h(tokens,)f(so)h(that)f(ANTLR)g(will)
g(report)h(a)g(more)h(meaningful)e(string)187 1847 y(in)h(its)f
(default)g(error)i(messages.)f(F)o(or)h(e)o(xample,)g(after)g(adding)
232 1947 y Fl(#errclass)30 b(Statement)g({"if")e("while")i(VAR)e
("begin")h(})187 2046 y Fr(to)11 b(the)f(abo)o(v)o(e)i(grammar)n(,)h
(the)e(input)f(of)h(\252)p Fl(34)p Fr(\272)h(would)e(result)g(in)h(the)
g(error)g(message)232 2146 y Fl(line)29 b(1:)e(syntax)i(error)g(at)f
("34")g(missing)h(Statement.)232 2246 y Fr(The)11 b(description)e(of)i
(an)g(error)g(class)g Fq(E)s(C)i Fr(consists)c(of)i(tokens,)e(other)i
(error)g(classes,)g(and)g(e)o(v)o(en)g(rules.)187 2296
y(If)j Fq(E)s(C)j Fr(contains)c(rule)h Fq(r)q Fr(,)g(we)h(add)f(the)f
Fq(F)6 b(I)t(RS)s(T)20 b Fr(set)14 b(of)g Fq(r)h Fr(to)f
Fq(E)s(C)1281 2279 y Fe(y)1297 2296 y Fr(.)h(This)e(feature)i(is)e(con)
n(v)o(enient;)g(for)187 2345 y(e)o(xample,)f(we)f(can)h(also)e(specify)
h(the)g(error)g(class)g Fl(Statement)j Fr(via)232 2445
y Fl(#errclass)30 b(Statement)g({)d(stat)i(}.)p 187 2477
200 3 v 187 2503 a Fd(y)211 2515 y Fs(A)9 b(token)e Fc(t)h
Fs(is)g(in)g Fc(F)d(I)s(RS)r(T)13 b Fs(of)8 b(rule)g
Fc(r)h Fs(if)g Fc(r)g Fs(might)f(start)g(with)h(a)f Fc(t)p
Fs(.)684 2698 y Fr(15/8/1995)h(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 799 11
799 10 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(799)232 249 y Fr(T)l(o)16 b(reco)o(v)o(er)h(after)g(a)f(parsing)f
(error)h(in)g(rule)f Fq(r)q Fr(,)i(ANTLR)e(consumes)h(tokens)e(until)h
(a)h(token)e(in)i(the)187 299 y Fq(F)6 b(O)q(LLO)q(W)19
b Fr(set)12 b(of)h Fq(r)g Fr(is)f(found)716 282 y Fe(z)732
299 y Fr(.)h(This)f(simple)g(reco)o(v)o(ery)h(heuristic)e(works)g(well)
h(in)g(man)o(y)h(cases.)g(F)o(or)187 349 y(e)o(xample,)f(after)f
(reporting)f(the)h(error)h(message)f(due)g(to)g(an)g(incomplete)g
Fl(expr)p Fr(,)i(\252)p Fl(34)28 b(+)p Fr(\272,)12 b(on)f(the)g(input)
232 448 y Fl(if)28 b(34+)g(then)h(i:=1;)187 548 y Fr(the)15
b(parser)g(would)e(look)h(for)h(a)h(token)d(that)i(could)f(follo)o(w)g
(an)h Fl(expr)p Fr(.)h(Because)g(\252)p Fl(then)p Fr(\272)h(can)e
(follo)o(w)187 598 y(an)c Fl(expr)p Fr(,)i(the)e(resynchronizer)g(need)
g(not)g(consume)g(an)o(y)g(tokens.)f(Except)h(for)g(the)g(error)h
(message,)g(the)187 648 y(parser)g(returns)g(from)g Fl(expr)i
Fr(as)e(if)g(nothing)e(had)i(gone)g(amiss)g(and)g(continues)f(parsing)g
(the)h Fl(then)p Fr(-part)187 697 y(of)f(the)g Fl(if)h
Fr(statement.)232 747 y(If)i(the)f(abo)o(v)o(e)h(default)f(error)h
(mechanism)g(is)f(insuf)o(\256cient,)f(programmers)i(can)g(use)f(a)h
(more)g(sophis-)187 797 y(ticated)e(error)h(mechanism)g(called)g
Fp(parser)e(e)o(xception)h(handling)p Fr(,)f(which)i(has)f(much)h(in)g
(common)g(with)187 847 y(C++)d(e)o(xception)g(handling)636
830 y FD(7)653 847 y Fr(;)g(we)h(do)g(not)f(actually)g(use)g(C++)h(e)o
(xceptions)e(in)i(our)f(implementation)f(and,)187 897
y(hence,)17 b(parser)f(e)o(xception)f(handling)g(can)h(be)h(used)f
(with)f(either)h(the)g(ANTLR)g(C)g(or)h(C++)f(interface.)187
946 y(P)o(arser)h(e)o(xception)e(handling)g(pro)o(vides)g(a)h
(uni\256ed)g(frame)o(work)g(for)g(reporting)f(and)h(reco)o(v)o(ering)g
(from)187 996 y(semantic)11 b(and)g(syntactic)e(errors;)i(note)g(that)f
(automatic)h(mechanisms)g(typically)e(do)i(not)f(e)o(v)o(en)h(consider)
187 1046 y(semantic)d(errors.)h(P)o(arser)g(e)o(xception)f(handling)e
(pro)o(vides)h(nearly)i(the)f(\257e)o(xibility)e(of)i(a)h(hand-b)o
(uilt)e(parser)m(.)232 1096 y(W)l(e)15 b(illustrate)d(the)i(use)g(of)g
(parser)h(e)o(xception)e(handlers)g(by)h(demonstrating)e(ho)o(w)i(the)o
(y)g(are)g(used)g(to)187 1146 y(generate)d(a)h(better)f(error)g
(message)h(than:)232 1245 y Fl(line)29 b(1:)e(syntax)i(error)g(at)f
("then")h(missing)g({INT)f(FLOAT)h(}.)187 1345 y Fr(for)11
b(input:)232 1445 y Fl(if)28 b(34+)g(then)h(i:=1;)187
1544 y Fr(Because)17 b(we)f(kno)o(w)g(the)g(conte)o(xt)g(in)g(which)g
(the)g Fl(expr)h Fr(production)e(was)h(attempted,)g(an)h(impro)o(v)o
(ed)187 1594 y(error)e(message)g(would)e(indicate)g(the)i(e)o
(xpression)e(was)h(both)g(in)g(an)h Fl(if)p Fr(-statement)g(and)f(that)
g(it)g(was)g(a)187 1644 y(conditional\320as)f(opposed)g(to)h(the)h
(right-hand-side)d(of)j(an)g(assignment)f(statement,)g(for)h(e)o
(xample.)h(A)187 1694 y(better)11 b(message)g(would)f(be)232
1793 y Fl(line)29 b(1:)e(if-statement)q(:)j(malformed)g(conditional)g
(at)e("then")187 1893 y Fr(One)11 b(way)g(to)f(achie)o(v)o(e)i(this)e
(error)h(message)h(is)e(to)h(modify)g(the)g(original)e
Fl(stat)k Fr(grammar)f(as)g(follo)o(ws)p 187 1930 200
3 v 187 1956 a Fd(z)211 1968 y Fs(A)d(token)e Fc(t)h
Fs(is)g(in)g Fc(F)d(O)q(LLO)q(W)13 b Fs(of)8 b(rule)g
Fc(r)h Fs(if)g(rule)f Fc(r)h Fs(can)f(be)f(follo)o(wed)h(immediately)f
(by)h(a)g Fc(t)p Fs(.)684 2698 y Fr(15/8/1995)h(18:01)h(P)l(A)n(GE)h
(PR)n(OOFS)h(antlr)p eop
%%Page: 800 12
800 11 bop 187 108 a Fn(800)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)
m(.)f(QUONG)232 203 y Fw(stat:)25 b("if")f(e:expr)h("then")g(stat)f
({"else")h(stat)f(})367 249 y(exception[)q(e])412 295
y(catch)g(Mismatche)q(dT)q(oke)q(n)i(:)412 340 y(catch)e(NoViableA)q
(lt)i(:)479 386 y(<<)479 432 y(fprintf\(s)q(tde)q(rr)q(,)524
477 y("line)e(\045d:)g(if-statem)q(ent)q(:)i(malformed)g(condition)q
(al)g(at)d(\\"\045s\\"\\n")q(,)524 523 y(zzline,)i(LATEXT\(1\))q(\);)
479 569 y(zzconsume)q(Unt)q(il)q(Tok)q(en)q(\(T)q(HEN)q(\);)479
614 y(>>)322 660 y(|)e("while")i(expr)f("do")g(stat)367
703 y(.)367 719 y(.)367 736 y(.)322 781 y(;)187 877 y
Fr(where)19 b Fl(zzline)i Fr(is)d(the)h(current)g(line)f(number)n(,)h
Fl(LATEXT\(1\))j Fr(is)c(the)h(te)o(xt)g(of)f(the)h(\256rst)g(token)f
(of)187 927 y(lookahead)f(\(using)g(the)h(C)h(interface\),)g(and)f
Fl(THEN)h Fr(is)f(the)g(token)f(type)h(associated)f(with)g
Fl("then")p Fr(.)187 977 y(The)d(notation)f(\252)p Fl(e:expr)p
Fr(\272)k(attaches)d(the)g(label)h Fl(e)g Fr(to)f(the)g
Fl(expr)i Fr(rule)e(reference.)j(Labels)d(allo)o(ws)f(the)187
1026 y(e)o(xception)d(handler)h(to)g(catch)g(errors)g(encountered)g
(speci\256cally)f(during)g(that)h(reference.)232 1076
y(Good)k(error)g(handling)f(requires)g(programmer)i(interv)o(ention.)e
(Automatic)g(mechanisms)h(typically)187 1126 y(do)j(not)f(perform)i
(well,)f(because)g(the)o(y)g(cannot)g(easily)f(analyze)h(the)g(state)g
(of)g(the)g(parser)g(\(e.g.,)i(the)187 1176 y(symbol)13
b(stack)g(of)h(a)h(table-dri)o(v)o(en)e(parser)h(or)g(the)g(program)g
(counter)f(of)h(a)h(recursi)o(v)o(e-descent)e(parser\).)187
1226 y(Kno)o(wing)c(where)j(to)e(report)h(errors)h(and)f(ho)o(w)f(to)h
(reco)o(v)o(er)i(from)e(them)h(must)e(be)i(done)e(with)h(a)g(program-)
187 1275 y(mer')m(s)f(e)o(xperience.)g(While)f(more)h(programming)f(ef)
o(fort)g(is)g(required)g(than)g(for)h(automatic)e(mechanisms,)187
1325 y(ANTLR')m(s)18 b(parser)h(e)o(xception)f(handling)f(pro)o(vides)g
(a)i(con)n(v)o(enient,)f(sophisticated)e(mechanism)j(that)187
1375 y(ri)o(v)o(als)10 b(the)h(\257e)o(xibility)e(of)j(hand-coded)e
(schemes.)187 1500 y Fh(T)m(r)o(ee)i(construction)232
1574 y Fr(The)h(parser)g(often)f(constructs)g(an)g(intermediate)h(form)
g(that)f(is)g(to)h(be)f(manipulated)g(by)h(later)f(phases)187
1624 y(of)g(the)h(translation)d(or)j(compilation)e(process.)h(Using)f
(a)i(fe)o(w)g(simple)f(grammar)h(annotations,)e(ANTLR)187
1674 y(parsers)h(can)h(automatically)f(construct)f(abstract)h(syntax)g
(trees)g(\(AST\),)i(sa)o(ving)d(the)i(user)f(from)i(ha)o(ving)187
1724 y(to)9 b(e)o(xplicitly)g(call)h(tree)g(constructor)f(routines.)g
(Nodes)g(in)h(the)f(AST)h(are)h(linked)e(via)g(left-most)h(child)f(and)
187 1774 y(ne)o(xt-sibling)g(pointers.)232 1823 y(T)l(o)k(create)h(an)f
(AST)m(,)g(the)g(user)g(annotates)e(the)i(grammar)h(to)f(indicate)f
(what)h(is)f(a)h(root)g(node,)g(what)f(is)187 1873 y(a)i(leaf)h(node,)f
(and)g(what)g(is)f(to)h(be)g(e)o(xcluded)g(from)h(the)f(AST)m(.)g(T)l
(okens)f(in)h(the)g(grammar)h(immediately)187 1923 y(follo)o(wed)c(by)i
(\252)p Fl(\303)p Fr(\272)h(are)g(to)e(be)h(considered)f(subtree)h
(root)f(nodes.)h(T)l(okens)f(suf)o(\256x)o(ed)g(with)g(\252)p
Fl(!)p Fr(\272)i(are)g(to)f(be)187 1973 y(e)o(xcluded)i(from)h(the)f
(tree.)h(All)f(other)g(tokens)e(are)j(considered)f(leaf)h(nodes.)f(F)o
(or)h(e)o(xample,)g(using)e(the)187 2023 y(ANTLR)d(speci\256cation)f
(in)h(Figure)g(3)g(on)f(the)h(input)232 2122 y Fl(if)28
b(3+4*5)h(then)f(return)h(4;)187 2222 y Fr(we)9 b(would)f(get)h(the)g
(tree)g(in)g(Figure)g(2.)h(The)f(root)g(of)g(this)f(tree)i(would)d(be)j
(returned)f(as)g Fl(root)i Fr(in)d Fl(main\(\))p Fr(.)798
2346 y(GENERA)-5 b(TED)10 b(P)l(ARSERS)187 2421 y(ANTLR)e(generates)h
(either)g(C)g(or)g(C++)g(code)g(for)g(a)g(recursi)o(v)o(e-descent)g
(parser)n(,)g(in)g(which)f(each)h(grammar)187 2471 y(rule)18
b(is)f(realized)h(by)g(a)g(C)h(or)f(C++)g(function.)f(W)l(e)i
(illustrate)d(the)i(structure)f(of)h(these)g(functions)e(by)187
2521 y(e)o(xample.)11 b(F)o(or)g(more)h(information)d(about)h(the)g
(C/C++)h(output)d(and)j(the)f(programmer')m(s)i(interface,)f(refer)684
2698 y(15/8/1995)e(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 801 13
801 12 bop 538 99 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(801)775 158 y
 8156938 6183485 0 0 8156938 6183485 startTexFig
 775 158 a
%%BeginDocument: 345.eps
0.3 setlinewidth
/rarrow {
moveto
-3 +2 rlineto
0 -4 rlineto
3 +2 rlineto
fill
} def
/darrow {
moveto
-2 +3 rlineto
4 0 rlineto
-2 -3 rlineto
fill
} def
/Courier findfont
10 scalefont setfont
0 78 moveto
(if) show
 stroke
6 75 moveto
6 61 lineto
stroke
6 61 darrow
3 52 moveto
(+) show
 stroke
6 49 moveto
6 35 lineto
stroke
6 35 darrow
3 26 moveto
(3) show
 stroke
12 29 moveto
26 29 lineto
stroke
26 29 rarrow
29 26 moveto
(*) show
 stroke
32 23 moveto
32 9 lineto
stroke
32 9 darrow
29 0 moveto
(4) show
 stroke
38 3 moveto
52 3 lineto
stroke
52 3 rarrow
55 0 moveto
(5) show
 stroke
12 55 moveto
75 55 lineto
stroke
75 55 rarrow
78 52 moveto
(return) show
 stroke
96 49 moveto
96 35 lineto
stroke
96 35 darrow
93 26 moveto
(4) show
 stroke
%%EndDocument

 endTexFig
 187 643 a Fx(F)n(igur)o(e)8 b(2.)i(The)e(abstr)o(act)g(syntax)g(tr)o
(ee)g(r)o(esulting)g(fr)n(om)h(\252)p Fw(if)23 b(3+4*5)i(then)f(return)
h(4;)p Fx(\272.)10 b(W)m(e)e(use)h(the)g(left-most-c)o(hild)868
684 y(and)g(ne)o(xt-sibling)g(links.)187 854 y Fr(to)i(the)f(PCCTS)j
(release)e(notes.)232 904 y(Each)i(ANTLR-generated)f(function)g(is)g(a)
h(sequence)f(of)h Fl(if-then-else)j Fr(clauses)d(plus)e(an)i(error)187
953 y(clause.)f(Each)h Fl(if-then-else)j Fr(clause)c(matches)h(one)f
(alternati)o(v)o(e)g(of)h(the)f(corresponding)f(rule;)h(the)187
1003 y Fl(if)18 b Fr(condition)d(is)i(a)h Fp(pr)n(ediction)e(e)o(xpr)n
(ession)g Fr(for)i(determining)e(the)h(v)o(alidity)f(of)h(its)g
(alternati)o(v)o(e.)g(F)o(or)187 1053 y(e)o(xample,)12
b(the)f(rule)g Fl(stat)h Fr(from)g(the)f(follo)o(wing)e(grammar)316
1162 y Fw(#header)26 b(<<)406 1208 y(#include)g("charbuf.h)q(")406
1254 y(#define)f(AST)p 653 1254 12 2 v 15 w(FIELDS)70
b(int)23 b(token,)i(ival;)316 1299 y(>>)316 1345 y(<<)316
1391 y(/*)f(required)h(function)q(:)g(how)f(to)f(convert)j(from)e
(attribute)i(to)d(AST)h(node)g(*/)316 1436 y(void)316
1482 y(zzcr)p 406 1482 V 15 w(ast\(AST)i(*node,)f(Attrib)g(*cur,)f(int)
g(token,)h(char)f(*text\))316 1528 y({)406 1573 y(node->tok)q(en)i(=)d
(token;)406 1619 y(node->iva)q(l)j(=)c(atoi\(tex)q(t\))q(;)316
1665 y(})316 1710 y(main\(\))316 1756 y({)406 1802 y(AST)i(*root=NULL)q
(;)406 1847 y(ANTLR\(e\(&)q(ro)q(ot\))q(,)i(stdin\);)316
1893 y(})316 1939 y(>>)316 2030 y(stat:)70 b("if"\303)24
b(e)f("then"!)i(stat)f(";"!)406 2076 y(|)68 b("return"\303)26
b(e)406 2121 y(;)316 2167 y(e)68 b(:)g(e1)23 b(\(")p
Fg(n)p Fw(+"\303)i(e1\)*)f(;)316 2213 y(e1)46 b(:)68
b(e2)23 b(\(")p Fg(n)p Fw(*"\303)i(e2\)*)f(;)316 2258
y(e2)46 b(:)68 b("[0-9]+")25 b(;)416 2337 y Fx(F)n(igur)o(e)8
b(3.)h(ANTLR)g(gr)o(ammar)e(showing)h(AST)h(construction)e(dir)o
(ectives)g(using)i(C)g(interface)o(.)684 2698 y Fr(15/8/1995)g(18:01)h
(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p eop
%%Page: 802 14
802 13 bop 187 108 a Fn(802)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)
m(.)f(QUONG)232 208 y Fl(stat:)83 b(ID)28 b(COLON)h(stat)246
b(/*)28 b(statement)i(label)f(*/)341 257 y(|)82 b(expr)29
b(SEMICOLON)220 b(/*)28 b(assignment)i(stat)f(*/)341
307 y(|)82 b(RETURN)29 b(expr)341 357 y(;)232 407 y(expr:)83
b(ID)28 b(ASSIGN)h(expr)341 457 y(|)82 b(INT)341 506
y(;)187 606 y Fr(would)9 b(result)i(in)f(the)h(follo)o(wing)e
(slightly-saniti)o(zed)g(C)j(code:)232 666 y Fw(void)24
b(stat\(voi)q(d\))232 711 y({)277 757 y(zzRULE;)93 b(zzBLOCK\(zz)q(ta)q
(sp1)q(\);)g(zzMake0;)277 803 y(if)23 b(\()g(\(LA\(1\)==I)q(D\))j(&&)d
(\(LA\(2\)==)q(CO)q(LON)q(\))j(\))c({)322 848 y(zzmatch\(I)q(D\);)k
(zzCONSUM)q(E;)322 894 y(zzmatch\(C)q(OLO)q(N\))q(;)g(zzCONSUME;)322
940 y(stat\(\);)277 985 y(})d(else)h({)322 1031 y(if)f(\()g
(\(LA\(1\)==I)q(D|)q(|LA)q(\(1)q(\)==)q(IN)q(T\))j(&&)d(\(LA\(2\)==)q
(SEM)q(IC)q(OLO)q(N|)q(|L)q(A\(2)q(\)=)q(=AS)q(SI)q(GN)q(\))i(\))e({)
367 1077 y(expr\(\);)367 1122 y(zzmatch\(SE)q(MI)q(CO)q(LON)q(\);)j
(zzCONSUME)q(;)322 1168 y(})d(else)h({)367 1214 y(if)f(\()g
(\(LA\(1\)==R)q(ETU)q(RN)q(\))i(\))e({)412 1259 y(zzmatch\(RE)q(TU)q
(RN\))q(;)j(zzCONSUME;)412 1305 y(expr\(\);)367 1351
y(})d(else)421 1396 y Fx(err)n(or)o(-clause)p Fw(;)322
1442 y(})277 1488 y(})277 1533 y(zzEXIT\(zz)q(ta)q(sp1)q(\);)277
1579 y(return;)232 1625 y(fail:)316 b(/*)23 b(standard)j(error-cas)q(e)
g(code)e(*/)277 1661 y(.)277 1677 y(.)277 1694 y(.)232
1740 y(})187 1835 y Fr(where)10 b Fl(LA\()p Fq(i)p Fl(\))g
Fr(is)f(the)g(token)f(type)h(of)h(the)f Fq(i)874 1819
y Fj(th)917 1835 y Fr(symbol)g(of)g(lookahead;)g(the)g(terms)h
Fl(zzRULE)p Fr(,)h Fl(zzBLOCK)p Fr(,)187 1885 y Fl(zzMake0)p
Fr(,)17 b(and)d Fl(zzEXIT)i Fr(are)g(bookkeeping)c(macros)j(for)f
(attrib)o(ute)f(manipulation.)g(\(Note)i(that)e(we)187
1935 y(ha)o(v)o(e)e(refrained)g(from)h(specifying)d(le)o(xical)h(re)o
(gular)i(e)o(xpressions,)d(using)h(token)f(type)i(labels)f(instead,)g
(so)187 1985 y(that)g(symbols)g(appear)i(in)e(the)h(C)h(output)e
(rather)h(than)g(inte)o(ger)g(token)e(types.\))232 2034
y(Note)16 b(that)f(ANTLR)g(adjusts)g(the)g(amount)h(of)f(lookahead)g
(tested)g(e)o(v)o(en)h(within)f(the)g(same)i(parsing)187
2084 y(decision)8 b(in)g(an)i(ef)o(fort)f(to)g(reduce)g(grammar)h
(analysis)e(time)h(and)g(the)g(size)g(of)h(the)e(resulting)g(parser)m
(.)i(Thus,)187 2134 y(prediction)g(e)o(xpressions)g(e)o(xamine)h(as)h
(fe)o(w)f(lookahead)f(symbols)g(as)i(possible.)e(In)h(the)g(abo)o(v)o
(e)h(e)o(xample,)187 2184 y(two)i(lookahead)f(symbols)h(must)h(be)g(e)o
(xamined)g(to)f(distinguish)e(between)i(the)h(\256rst)g(two)e
(alternati)o(v)o(es,)187 2234 y(\252)p Fl(ID)28 b(COLON)g(stat)p
Fr(\272)14 b(and)e(\252)p Fl(expr)28 b(SEMICOLON)p Fr(\272,)15
b(as)e(both)e(can)h(start)f(with)g(an)h Fl(ID)p Fr(,)h(b)o(ut)f(only)f
(one)187 2284 y(lookahead)k(symbol,)i Fl(RETURN)p Fr(,)h(is)f(tested)e
(for)i(the)g(third)e(alternati)o(v)o(e)h(because)h(the)f
Fl(RETURN)j Fr(token)187 2333 y(alone)11 b(distinguis)o(hes)d(it)j
(from)h(the)f(other)f(two)h(productions.)232 2383 y(F)o(or)19
b(ef)o(\256cienc)o(y)m(,)g(we)f(considered)f(the)g(use)h(of)g
Fl(switch)p Fr(-statements)g(rather)g(than)g(a)g(sequence)g(of)187
2433 y Fl(if-then-else)p Fr(s,)f(b)o(ut)12 b Fl(switch)p
Fr(es)j(turned)e(out)f(to)h(be)h(too)e(restricti)o(v)o(e.)h(F)o(or)h(e)
o(xample,)g Fl(switch)p Fr(es)187 2483 y(cannot)c(be)h(used)g(when)g
Fq(k)i(>)g Fm(1)e Fr(or)g(when)g(predicates)f(are)i(needed)f(in)g(the)f
(prediction)g(e)o(xpression.)g(Also,)187 2533 y(parsing)g(speed)h(has)g
(not)f(been)h(a)h(problem)f(for)g(ANTLR-generated)g(parsers.)684
2698 y(15/8/1995)e(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 803 15
803 14 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(803)232 199 y Fr(When)10 b(semantic)h(predicates)f(are)h(needed)f
(to)g(disambiguate)f(two)g(or)i(more)g(alternati)o(v)o(e)e
(productions,)187 249 y(we)i(add)f(the)g(predicate)g(to)g(the)h
(prediction)e(e)o(xpression)g(after)i(the)f(lookahead)g(membership)g(e)
o(xpression.)187 299 y(F)o(or)i(e)o(xample,)g(the)f(grammar)h(fragment)
232 390 y Fw(expr)24 b(:)f(<<isvar\(L)q(AT)q(EX)q(T\(1)q(\)\))q(>>?)49
b(ID)23 b(")p Fg(n)p Fw(\(")h(expr)p 1171 390 12 2 v
15 w(list)g(")p Fg(n)p Fw(\)")g(<<)10 b Ff(array)p 1538
390 V 13 w(ref)p 1592 390 V 14 w(action)p Fw(>>)344 436
y(|)23 b(<<isfunc\()q(LA)q(TE)q(XT\()q(1\))q(\)>>)q(?)j(ID)d(")p
Fg(n)p Fw(\(")h(expr)p 1171 436 V 15 w(list)g(")p Fg(n)p
Fw(\)")g(<<)10 b Ff(fn)p 1492 436 V 14 w(call)p 1560
436 V 13 w(action)p Fw(>>)344 482 y(;)187 581 y Fr(would)f(result)i(in)
f(the)h(follo)o(wing)e(C)j(code)f(\(again,)g(we)h(ha)o(v)o(e)f(lightly)
e(sanitized)h(the)h(code)g(for)h(clarity\):)232 641 y
Fw(void)24 b(expr\(voi)q(d\))232 687 y({)322 732 y(zzRULE;)92
b(zzBLOCK\()q(zz)q(tas)q(p1)q(\);)h(zzMake0;)322 778
y(if)23 b(\()g(LA\(1\)==ID)j(&&)d(isvar\(LA)q(TE)q(XT\()q(1\))q(\))i
(\))e({)412 824 y(zzmatch\(ID)q(\);)j(zzCONSUME)q(;)412
869 y(zzmatch\(3\))q(;)g(zzCONSUME;)250 b(/*)24 b(token)g(type)g(3)f
(refers)i(to)e("\(")h(*/)412 915 y(expr)p 502 915 V 15
w(list\(\);)412 961 y(zzmatch\(4\))q(;)496 b(/*)24 b(token)g(type)g(4)f
(refers)i(to)e("\)")h(*/)421 1006 y Ff(array)p 500 1006
V 13 w(ref)p 554 1006 V 14 w(action)412 1052 y Fw(zzCONSUME;)322
1097 y(})f(else)h({)412 1143 y(if)f(\()g(LA\(1\)==ID)j(&&)d(isfunc\(LA)
q(TE)q(XT\()q(1\))q(\))j(\))c({)501 1189 y(zzmatch\()q(ID\))q(;)k
(zzCONSUME;)501 1234 y(zzmatch\()q(3\);)g(zzCONSUM)q(E;)160
b(/*)24 b(token)g(type)g(3)f(refers)i(to)e("\(")h(*/)501
1280 y(expr)p 591 1280 V 15 w(list\(\);)501 1326 y(zzmatch\()q(4\);)407
b(/*)24 b(token)g(type)g(4)f(refers)i(to)e("\)")h(*/)511
1371 y Ff(fn)p 544 1371 V 13 w(call)p 611 1371 V 14 w(action)501
1417 y Fw(zzCONSUM)q(E;)412 1463 y(})e(else)511 1508
y Fx(err)n(or)o(-clause)p Fw(;)322 1554 y(})322 1600
y(zzEXIT\(zz)q(tas)q(p1)q(\);)322 1645 y(return;)232
1691 y(fail:)809 b(/*)24 b(standard)h(error-ca)q(se)h(code)e(*/)322
1727 y(.)322 1744 y(.)322 1760 y(.)232 1806 y(})232 1902
y Fr(Implementing)15 b(syntactic)e(predicates)i(is)f(not)h(as)g(simple)
f(as)h(implementing)f(semantic)h(predicates,)187 1951
y(because)c(of)g(the)g(backtracking)f(in)n(v)o(olv)o(ed.)h(F)o(or)h(e)o
(xample,)g(the)e(rule)232 2051 y Fl(stat:)83 b(\(declaration)q(\)?)31
b(declaration)341 2101 y(|)82 b(expression)341 2151 y(;)187
2250 y Fr(would)9 b(result)i(in)f(the)h(follo)o(wing)e(C)j(code)684
2698 y(15/8/1995)d(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 804 16
804 15 bop 187 108 a Fn(804)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)
m(.)f(QUONG)232 203 y Fw(void)24 b(stat\(voi)q(d\))232
249 y({)322 295 y(zzRULE;)92 b(zzBLOCK\()q(zz)q(tas)q(p1)q(\);)h
(zzMake0;)322 340 y(zzGUESS)p 478 340 12 2 v 16 w(BLOCK)322
386 y(zzGUESS)322 432 y(if)23 b(\()g(!zzrv)h(&&)g(\(LA\(1\)==)p
Fu(F)5 b(I)s(RS)s(T)939 436 y Fb(1)959 432 y Fw(\(declara)q(tio)q(n\))q
(\))25 b(\))e({)412 477 y({)501 523 y(zzBLOCK\()q(zzt)q(as)q(p2\))q(;)
501 569 y(zzMake0;)501 614 y({)591 660 y(declarati)q(on\()q(\);)161
b(/*)23 b(syntactic)j(predicate)g(*/)591 706 y(zzEXIT\(zz)q(tas)q(p2)q
(\);)501 751 y(})412 797 y(})412 843 y(zzGUESS)p 568
843 V 16 w(DONE)412 888 y(declaratio)q(n\()q(\);)322
934 y(})d(else)h({)412 980 y(if)f(\()g(zzguessing)j(\))d(zzGUESS)p
971 980 V 16 w(DONE;)412 1025 y(if)g(\()g(\(LA\(1\)==)p
Fu(F)5 b(I)s(RS)r(T)827 1029 y Fb(1)847 1025 y Fw(\(expressi)q(on)q
(\)\))26 b(\))d({)501 1071 y(expressi)q(on\()q(\);)412
1117 y(})f(else)488 1162 y Fx(err)n(or)o(-clause)p Fw(;)322
1208 y(})322 1254 y(zzEXIT\(zz)q(tas)q(p1)q(\);)322 1299
y(return;)232 1345 y(fail:)720 b(/*)23 b(standard)j(error-case)g(code)e
(*/)322 1381 y(.)322 1398 y(.)322 1414 y(.)232 1460 y(})187
1555 y Fr(where)11 b Fl(zzGUESS)p Fr(,)j(and)d Fl(zzGUESS)p
792 1555 14 2 v 18 w(DONE)i Fr(are)e(bookkeeping)e(macros)j(to)f
(handle)f(the)h(backtracking.)232 1605 y(Before)f(e)o(v)o(aluating)d(a)
i(syntactic)e(predicate,)i(the)f(state)g(of)h(the)f(run-time)h(stack)f
(is)g(sa)o(v)o(ed)h(so)f(that)g(in)g(case)187 1655 y(the)k(predicate)g
(fails,)f(a)i Fl(longjmp\(\))i Fr(can)d(be)g(used)g(to)g(restore)g(the)
g(parser)g(to)g(its)f(prior)h(state)g(before)g(it)187
1705 y(attempted)c(the)h(predicate.)g(Actions)e(are)j(not)e(e)o(x)o
(ecuted)h(during)f(the)h(e)o(v)o(aluation)e(of)i(a)g(syntactic)f
(predicate)187 1755 y(to)i(a)o(v)o(oid)h(side)f(ef)o(fects.)i(If)g(the)
e(predicate)h(succeeds,)g(parsing)g(continues)e(at)i(the)g(production)e
(predicated)187 1805 y(by)i(the)g(syntactic)e(predicate,)j(without)d(e)
o(x)o(ecuting)i(the)g Fl(longjmp\(\))p Fr(.)232 1854
y(In)g(this)e(particular)h(e)o(xample,)h(the)f(syntactic)f(predicate)h
(\252)p Fl(\(declaration\))q(?)p Fr(\272)k(v)o(eri\256es)c(that)g
(input)187 1904 y(will)j(indeed)h(match)h(a)g Fl(declaration)p
Fr(.)j(W)l(e)d(ha)o(v)o(e)g(used)g Fl(declaration)i Fr(to)d(predict)g
(itself.)h(Thus)187 1954 y Fl(declaration)d Fr(will)d(be)g(matched)g
(twice\320once)h(as)f(the)g(syntactic)f(predicate)h(and)g(then)g(again)
g(during)187 2004 y(the)i(actual)g(parse)g(to)g(perform)g(the)g
(actions)f(speci\256ed)h(in)g Fl(declaration)p Fr(.)187
2128 y Fh(C++)g(parsers)232 2203 y Fr(When)17 b(generating)g(recursi)o
(v)o(e-descent)g(parsers)g(in)g(C++,)h(ANTLR)f(uses)g(the)g(\257e)o
(xibility)e(of)j(C++)187 2253 y(classes)f(in)h(two)f(ways)g(to)g
(create)i(modular)n(,)f(reusable)g(code.)g(First,)g(ANTLR)f(will)g
(generate)h(parser)187 2303 y(classes)9 b(in)h(which)f(the)h(class)f
(member)j(functions,)c(rather)j(than)e(global)g(functions,)g(contain)g
(the)g(code)h Fm(\()p Fq(i)p Fm(\))187 2352 y Fr(to)i(recognize)h
(rules)f(and)h Fm(\()p Fq(ii)p Fm(\))e Fr(to)h(perform)i(semantic)e
(actions.)g(Second,)h(ANTLR)g(uses)f(snap-together)187
2402 y(classes)e(for)i(the)f(input,)f(the)h(le)o(x)o(er)n(,)h(and)f
(the)g(token)f(b)o(uf)o(fer)m(.)232 2452 y(An)i(ANTLR)g(parser)g
(consists)f(of)h(one)g(or)g(more)h(C++)f(classes,)g(called)g(parser)g
(classes.)g(Each)g(parser)187 2502 y(class)h(recognizes)g(and)g
(translates)f(part)h(\(or)g(all\))h(of)f(a)h(language.)f(The)g(recursi)
o(v)o(e-descent)f(recognition)684 2698 y(15/8/1995)d(18:01)h(P)l(A)n
(GE)h(PR)n(OOFS)h(antlr)p eop
%%Page: 805 17
805 16 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(805)187 199 y Fr(routines)14 b(and)h(the)g(semantic)g(actions)f
(are)i(member)g(functions)d(of)j(this)e(class.)h(A)g(parser)g(object)g
(is)g(an)187 249 y(instantiation)8 b(\(or)j(v)o(ariable\))g(of)g(the)g
(parser)h(class.)232 299 y(T)l(o)k(specify)f(the)h(name)g(of)g(the)g
(parser)g(class)f(in)h(an)g(ANTLR)f(grammar)i(description,)e(enclose)g
(the)187 349 y(appropriate)10 b(rules)h(and)g(actions)f(in)h(a)g(C++)g
(class)g(de\256nition,)f(as)h(follo)o(ws.)232 412 y Fl(class)29
b(Expr)f({)232 462 y(<<int)h(i;>>)232 512 y(<<)232 562
y(public:)341 612 y(void)g(print\(\);)232 662 y(>>)232
711 y(e)82 b(:)g(INT)29 b(\("\\*")f(INT\)*)h(;)341 750
y(.)341 767 y(.)341 784 y(.)464 b(//)28 b(other)h(grammar)g(rules)232
833 y(})232 933 y Fr(ANTLR)10 b(would)f(generate)i(a)f(parser)h(class)f
Fl(Expr)i Fr(that)d(looks)h(as)g(follo)o(ws.)f(The)h(types)g
Fl(TokenType)187 983 y Fr(and)h Fl(ANTLRTokenBuff)q(er)k
Fr(are)c(discussed)f(belo)o(w)m(.)232 1038 y Fl(class)29
b(Expr)f(:)g(public)h(ANTLRParser)h({)232 1087 y(public:)341
1137 y(Expr\(ANTLRTo)q(kenB)q(uff)q(er)g(*input\);)341
1187 y(Expr\(ANTLRTo)q(kenB)q(uff)q(er)g(*input,)g(TokenType)f(eof\);)
341 1237 y(void)g(e\(\);)341 1287 y(int)f(i;)341 1337
y(void)h(print\(\);)232 1386 y(private:)353 1436 y Fp(internal-)c
Fl(Expr)p Fp(-speci\256c-data)p Fl(;)232 1486 y(};)187
1586 y Fr(It)17 b(is)g(natural)h(to)f(ha)o(v)o(e)h(man)o(y)g(separate)g
(parser)f(objects.)g(F)o(or)i(e)o(xample,)f(if)g(parsing)e(ANSI)i(C)g
(code,)187 1635 y(we)h(might)g(ha)o(v)o(e)h(three)g(parser)f(classes)g
(for)h(C)g(e)o(xpressions,)e(C)i(declarations,)f(and)g(C)h(statements.)
187 1685 y(P)o(arsing)8 b(multiple)e(languages)h(or)h(parts)f(of)h
(languages)f(simply)g(in)n(v)o(olv)o(es)f(switching)g(parsers)i
(objects.)f(F)o(or)187 1735 y(e)o(xample,)k(if)g(you)f(had)g(a)h
(working)e(C)i(language)f(front-end)g(for)h(a)g(compiler)n(,)g(to)f(e)o
(v)o(aluate)g(C)h(e)o(xpressions)187 1785 y(in)i(a)g(deb)o(ugger)n(,)h
(just)e(use)h(the)g(parser)h(object)f(for)g(C)h(e)o(xpressions)e(\(and)
h(modify)g(the)h(semantic)f(actions)187 1835 y(via)e(virtual)f
(functions)f(as)j(described)e(belo)o(w\).)232 1884 y(Using)g(parser)h
(classes)f(has)h(the)f(standard)g(adv)o(antages)g(of)h(C++)f(classes)g
(in)n(v)o(olving)f(namespaces)i(and)187 1934 y(encapsulation)i(of)j
(state.)f(Because)h(all)f(routines)f(are)i(class)f(member)h(functions,)
f(the)o(y)g(belong)f(in)h(the)187 1984 y(class)f(namespace)h(and)g(do)f
(not)g(clutter)g(the)g(global)f(namespace,)j(reducing)e(\(or)h(greatly)
f(simplifying\))187 2034 y(the)d(problem)g(of)h(name)g(clashes.)f(The)h
(programmer)g(can)g(also)f(specify)g(some)h(rules)f(as)g
Fl(public)p Fr(,)j(such)187 2084 y(as)f(the)g(start)f(rule,)h(and)g
(make)g(the)g(rest)g(of)g(the)f(rules)h Fl(private)p
Fr(,)i(clearly)e(indicating)e(which)h(rules)h(are)187
2134 y(for)e(general)g(use.)g(Lastly)m(,)f(a)i(parser)f(object)f
(encapsulates)g(the)h(v)o(arious)f(state)g(needed)h(during)f(a)h(parse)
h(or)187 2183 y(translation.)232 2233 y(While)18 b(the)h(ability)e(to)h
(cleanly)g(instantiate)f(and)i(in)n(v)o(oke)e(multiple)h(parsers)g(is)h
(useful,)f(the)h(main)187 2283 y(adv)o(antage)8 b(of)h(parser)h
(classes)e(is)h(that)g(the)o(y)g(can)g(be)g(e)o(xtended)g(in)g(an)g
(object-oriented)e(fashion.)i(By)g(using)187 2333 y(the)f(inheritance)g
(and)h(virtual)f(functions)f(mechanisms)i(of)f(C++,)h(a)h(parser)f
(class)f(can)h(be)g(used)f(as)h(the)g(base)187 2383 y(class)h
(\(superclass\))g(for)h(a)h(v)o(ariety)e(of)h(similar)f(b)o(ut)g
(non-identical)f(uses.)i(Deri)o(v)o(ed)g(parser)g(classes)f(would)187
2432 y(be)i(specialized)e(for)i(dif)o(ferent)g(acti)o(vities;)d(in)i
(man)o(y)i(cases,)f(these)f(deri)o(v)o(ed)g(classes)h(need)f(only)g
(rede\256ne)187 2482 y(translation)g(actions,)h(as)h(the)o(y)g(inherit)
f(the)h(grammar)h(rules,)f(as)g(these)g(recursi)o(v)o(e-descent)f
(routines)g(are)187 2532 y(member)g(functions,)e(from)i(the)f(base)g
(class.)684 2698 y(15/8/1995)e(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 806 18
806 17 bop 187 108 a Fn(806)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)
m(.)f(QUONG)232 199 y Fr(As)h(an)h(e)o(xample,)h(assume)e(that)g(we)h
(ha)o(v)o(e)g(constructed)e(an)i(ANTLR)f(speci\256cation)f(for)i(the)f
(front-end)187 249 y(of)g(a)h(uni\256ed)g(ANSI)f(C/C++)h(compiler)f
(and)h(that)e(we)i(use)g(a)g(parser)f(class)h Fl(StructClassPars)q(er)j
Fr(to)187 299 y(handle)d(C)h(structs)e(and)h(C++)g(classes.)h(The)f
(semantic)g(actions)f Fl(addDefn\(\))15 b Fr(and)c Fl(memberDefn\(\))p
Fr(,)187 349 y(which)18 b(add)h(entries)f(to)h(the)g(symbol)f(table,)h
(would)e(be)i(de\256ned)g(as)g(virtual)f(member)i(functions)e(of)187
399 y Fl(StructClassPar)q(ser)p Fr(.)232 449 y Fw(class)25
b(StructClas)q(sP)q(ar)q(ser)h({)232 495 y(public:)232
541 y(<<)322 586 y(virtual)f(void)f(addDefn\()q(cha)q(r)i(*struct)p
1061 586 12 2 v 16 w(className)q(\))g({)412 632 y(sym)p
480 632 V 14 w(tab->ins)q(ert)q(\(s)q(tr)q(uct)p 895
632 V 17 w(classNam)q(e\);)479 671 y(.)479 688 y(.)479
704 y(.)322 750 y(})322 796 y(virtual)f(void)f(memberDe)q(fn\()q(ch)q
(ar)i(*memName\))g({)412 841 y(sym)p 480 841 V 14 w(tab->ins)q(ert)q
(Me)q(m\()q(str)q(uc)q(tNa)q(me)q(,)g(memName\);)479
880 y(.)479 897 y(.)479 913 y(.)322 959 y(})232 1005
y(>>)232 1096 y(s)68 b(:)23 b(\("struct"|)q("c)q(la)q(ss")q(\))j
(name:ID)f(<<)e(addDefn\()q($)s(name\);)i(>>)e("\\{")h(\(mem)p
1667 1096 V 15 w(decl\)*)h("\\}")322 1142 y(;)232 1233
y(mem)p 300 1233 V 15 w(decl)322 1279 y(:)e Fu(:)6 b(:)g(:)44
b Fw(<<)i(memberDef)q(n\()q(\274\);)j(>>)322 1324 y(;)232
1370 y(})232 1466 y Fr(T)l(o)14 b(create)h(a)g(uni\256ed)e(C/C++)h(bro)
o(wser)n(,)g(we)g(specify)g(a)g(second)g(class)g Fl(StructClassBrow)q
(ser)187 1515 y Fr(deri)o(v)o(ed)7 b(from)g Fl(StructClass)q(Pars)q(er)
h Fr(that)f(simply)g(rede\256nes)g(the)g(semantic)g(actions)g(to)g(be)g
(bro)o(wser)187 1565 y(actions.)j(In)g(our)g(sample)h(code,)f(the)h
(routine)e Fl(display\(\))k Fr(represents)d(the)g(action)g(to)g(sho)o
(w)f(a)i(string)e(in)187 1615 y(the)h(bro)o(wser)m(.)h(As)f(the)g
(recursi)o(v)o(e-descent)g(recognition)f(routines)g(are)i(member)g
(functions)e(of)i(base)f(class)187 1665 y Fl(StructClassPar)q(ser)p
Fr(,)i(the)o(y)7 b(are)i(inherited)e(by)g(the)h(bro)o(wser)f(class)h
(and)f(we)h(need)g(not)f(respecify)h(the)187 1715 y(grammar)m(.)i(As)e
(the)f(actions)g(were)i(virtual,)e(the)h(bro)o(wser)f(semantic)h
(actions)f(will)g(be)h(called)g(automatically)187 1764
y(when)j(using)e(a)j(bro)o(wser)f(object.)232 1824 y
Fw(class)25 b(StructClas)q(sB)q(ro)q(wse)q(r)h(:)c(public)j(StructCl)q
(as)q(sPa)q(rs)q(er)h({)232 1870 y(public:)322 1915 y(StructCla)q(ssB)q
(ro)q(ws)q(er\()q(AN)q(TLR)q(To)q(ke)q(nBu)q(ff)q(er)g(*in\))e(:)f
(StructCla)q(ssP)q(ar)q(ser)q(\(i)q(n\))j({)d(})322 1961
y(void)h(addDefn\(c)q(ha)q(r)h(*cl\))f({display)q(\(")q(str)q(uc)q(t)i
(\045s;\\n",)f(cl\);)f(})322 2007 y(void)g(memberDef)q(n\()q(cha)q(r)i
(*m\))d({display)q(\("m)q(em)q(be)q(r)i(\\t\045s;\\n")q(,)h(m\);)d(})
232 2052 y(};)232 2148 y Fr(The)15 b(second)g(way)f(ANTLR)h(uses)g(C++)
g(classes)f(is)h(to)g(ha)o(v)o(e)g(separate)g(C++)g(classes)g(for)g
(the)g(input)187 2198 y(stream,)h(the)g(le)o(xical)f(analyzer)h
(\(scanner\),)g(the)g(token)e(b)o(uf)o(fer)n(,)j(and)e(the)h(parser)m
(.)g(Conceptually)m(,)f(these)187 2248 y(classes)g(\256t)i(together)e
(as)h(sho)o(wn)f(in)h(Figure)g(4,)g(and)g(in)g(fact,)g(the)g
(ANTLR-generated)f(classes)h(\252snap)187 2297 y(together\272)10
b(in)h(an)g(identical)f(fashion.)g(T)l(o)i(initialize)d(the)i(parser)n
(,)h(the)f(programmer)h(simply)236 2378 y(1.)21 b(attaches)10
b(an)i(input)d(stream)j(object)e(to)h(a)h(DLG-based)e(scanner)1303
2362 y Fe(x)1320 2378 y Fr(,)236 2428 y(2.)21 b(attaches)10
b(a)i(scanner)f(to)g(a)g(token)f(b)o(uf)o(fer)i(object,)e(and)236
2478 y(3.)21 b(attaches)10 b(the)h(token)f(b)o(uf)o(fer)i(to)e(a)i
(parser)f(object)g(generated)g(by)g(ANTLR.)p 187 2511
200 3 v 187 2537 a Fd(x)211 2549 y Fs(If)e(the)f(user)f(has)h
(constructed)e(their)j(o)o(wn)e(scanner)o(,)g(they)g(would)g(attach)g
(it)i(here.)684 2698 y Fr(15/8/1995)g(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h
(antlr)p eop
%%Page: 807 19
807 18 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(807)225 158 y
 25523322 2368143 0 0 25523322 2368143 startTexFig
 225 158 a
%%BeginDocument: blk.eps
/$F2psDict 200 dict def 
$F2psDict begin
$F2psDict /mtrx matrix put
/l {lineto} bind def
/m {moveto} bind def
/s {stroke} bind def
/n {newpath} bind def
/gs {gsave} bind def
/gr {grestore} bind def
/clp {closepath} bind def
/graycol {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
4 -2 roll mul setrgbcolor} bind def
/col-1 {} def
/col0 {0 0 0 setrgbcolor} bind def
/col1 {0 0 1 setrgbcolor} bind def
/col2 {0 1 0 setrgbcolor} bind def
/col3 {0 1 1 setrgbcolor} bind def
/col4 {1 0 0 setrgbcolor} bind def
/col5 {1 0 1 setrgbcolor} bind def
/col6 {1 1 0 setrgbcolor} bind def
/col7 {1 1 1 setrgbcolor} bind def
	end
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
0 setlinecap 0 setlinejoin
-46.0 126.0 translate 0.900 -0.900 scale
0.500 setlinewidth
n 349 126 m 349 109 l  239 109 l  239 126 l 
 clp gs col-1 s gr
/Courier findfont 10.00 scalefont setfont
245 120 m 
gs 1 -1 scale (ANTLRTokenBuffer) col-1 show gr
n 209 139 m 209 99 l  139 99 l  139 139 l 
 clp gs col-1 s gr
n 449 139 m 449 99 l  379 99 l  379 139 l 
 clp gs col-1 s gr
n 80 118 m 139 118 l gs col-1 s gr
n 131.000 116.000 m 139.000 118.000 l 131.000 120.000 l gs 2 setlinejoin col-1 s gr
n 209 119 m 239 119 l gs col-1 s gr
n 231.000 117.000 m 239.000 119.000 l 231.000 121.000 l gs 2 setlinejoin col-1 s gr
n 349 119 m 379 119 l gs col-1 s gr
n 371.000 117.000 m 379.000 119.000 l 371.000 121.000 l gs 2 setlinejoin col-1 s gr
n 449 119 m 479 119 l gs col-1 s gr
n 471.000 117.000 m 479.000 119.000 l 471.000 121.000 l gs 2 setlinejoin col-1 s gr
/Courier findfont 10.00 scalefont setfont
382 118 m 
gs 1 -1 scale (ANTLRParser) col-1 show gr
/Courier findfont 10.00 scalefont setfont
151 119 m 
gs 1 -1 scale (DLGLexer) col-1 show gr
/Courier findfont 10.00 scalefont setfont
51 112 m 
gs 1 -1 scale (DLGInputStream) col-1 show gr
/Times-Roman findfont 11.00 scalefont setfont
454 114 m 
gs 1 -1 scale (output) col-1 show gr
$F2psEnd
%%EndDocument

 endTexFig
 616 341 a Fx(F)n(igur)o(e)8 b(4.)i(Overvie)o(w)e(of)h(the)g(C++)h
(classes)d(used)h(by)g(ANTLR.)232 505 y Fr(The)j(follo)o(wing)e(code)i
(illustrates,)f(for)h(a)h(parser)f(object)g Fl(Expr)p
Fr(,)i(ho)o(w)d(these)h(classes)f(\256t)i(together)m(.)232
564 y Fw(main\(\))232 610 y({)322 656 y(DLGFileIn)q(put)26
b(in\(stdin)q(\);)183 b(//)23 b(get)h(an)f(input)h(stream)h(for)f(DLG)
322 701 y(DLGLexer)i(scan\(&in\);)273 b(//)23 b(connect)i(a)e(scanner)j
(to)d(an)g(input)i(stream)322 747 y(ANTLRToke)q(nBu)q(ff)q(er)h
(pipe\(&sca)q(n\))q(;)48 b(//)23 b(connect)i(scanner)h(and)d(parser)i
(via)f(pipe)322 793 y(ANTLRToke)q(n)h(aToken;)322 838
y(scan.setT)q(oke)q(n\()q(&a)q(Tok)q(en)q(\);)183 b(//)23
b(DLG)h(needs)g(vtbl)g(to)g(access)g(virtual)i(fn)322
884 y(Expr)e(parser\(&p)q(ip)q(e\);)273 b(//)23 b(make)h(a)f(parser)i
(connected)h(to)d(the)h(pipe)322 930 y(parser.in)q(it\()q(\);)385
b(//)23 b(initializ)q(e)j(the)d(parser)322 975 y(parser.e\()q(\);)452
b(//)23 b(begin)i(parsing;)48 b(e)23 b(=)f(start)j(symbol)232
1021 y(})187 1117 y Fl(ANTLRToken)7 b Fr(is)g(de\256ned)g(by)g(the)g
(programmer)g(and)g(must)g(be)g(a)g(subclass)g(of)g Fl
(ANTLRAbstractToken)p Fr(.)187 1166 y(T)l(o)i(start)g(parsing,)g(it)g
(is)g(suf)o(\256cient)g(to)g(call)h(the)f Fl(Expr)i Fr(member)g
(function)d(associated)g(with)h(the)g(grammar)187 1216
y(rule;)h(here,)i Fl(e)g Fr(is)f(the)g(start)f(symbol.)232
1266 y(T)l(o)k(ensure)g(compatibility)d(among)j(dif)o(ferent)g(input)e
(streams,)i(le)o(x)o(ers,)h(token)e(b)o(uf)o(fers,)h(and)f(parsers,)187
1316 y(all)18 b(objects)g(are)i(deri)o(v)o(ed)e(from)i(one)f(of)g(the)f
(four)h(common)g(bases)g(classes)f Fl(DLGInputStre)q(am)p
Fr(,)187 1366 y Fl(DLGLexer)p Fr(,)13 b Fl(ANTLRTokenBuffe)q(r)g
Fr(or)d Fl(ANTLRParser)p Fr(.)k(In)c(particular)n(,)g(all)g(parsers)g
(are)h(deri)o(v)o(ed)187 1415 y(from)h(a)f(common)h(base)f(class)f
Fl(ANTLRParser)p Fr(.)870 1540 y(FUTURE)h(WORK)187 1615
y(Our)h(work)g(on)g(ANTLR)g(continues)f(to)h(be)h(hea)o(vily)e
(in\257uenced)h(by)g(the)h(feedback)f(from)h(the)g(industrial)187
1665 y(user)i(community)m(.)g(As)h(such,)f(we)h(are)g(currently)f(de)o
(v)o(eloping)e(a)j(prototype)e(graphical)h(user)o(-interface)187
1714 y(that)8 b(displays)f(grammars)j(as)f(a)g(set)g(of)g(syntax)f
(diagrams.)h(This)f(interface)g(will)g(highlight)e(the)j(con\257icting)
187 1764 y(syntax)d(diagram)i(paths)e(in)h(an)h(in)n(v)o(alid)e
(grammar)i(construct,)f(simplifying)e(the)j(deb)o(ugging)d(of)j(a)f
(grammar)m(.)187 1814 y(Currently)m(,)13 b(ambiguities)g(are)h
(reported)g(via)f(a)h(single)f(line)g(of)h(te)o(xt)g(which)f(can)h(be)g
(some)o(what)f(cryptic.)187 1864 y(In)20 b(addition,)e(we)i(plan)g(to)f
(add)h(a)g(single-step)e(facility)h(for)h(ANTLR-generated)f(parsers)h
(that)f(can)187 1914 y(dynamically)13 b(display)g(the)h(portions)e(of)i
(the)g(syntax)g(diagram)g(used)g(in)g(the)g(parse)g(and)g(the)g(parse)g
(tree)187 1963 y(b)o(uilt)c(so)g(far)m(.)875 2088 y(CONCLUSIONS)187
2163 y(In)18 b(this)g(paper)n(,)h(we)g(introduce)e(ANTLR,)i(the)f
(parser)h(generator)f(of)h(PCCTS.)h(First)e(and)g(foremost,)187
2212 y(ANTLR)9 b(is)f(a)i(practical,)f(programmer)o(-friendly)g(tool)f
(with)g(man)o(y)i(con)n(v)o(enient)e(features.)h(ANTLR)g(inte-)187
2262 y(grates)h(the)g(speci\256cation)f(of)i(le)o(xical)f(and)g
(syntactic)f(analysis,)h(supports)e(e)o(xtended)i(BNF)h(notation,)e
(can)187 2312 y(automatically)f(construct)g(abstract)g(syntax)g(trees,)
i(reports)f(and)g(reco)o(v)o(ers)h(from)f(syntax)f(errors)i(automat-)
187 2362 y(ically)m(,)g(and)g(pro)o(vides)g(signi\256cant)f(semantic)i
(\257e)o(xibility)m(.)e(ANTLR)h(generates)h(fast,)f(compact,)h
(readable)187 2412 y(recursi)o(v)o(e-descent)f(parsers)h(in)g(C)h(or)f
(C++)g(which)g(are)g(easy)h(to)e(inte)o(grate)h(with)f(other)h
(applications.)232 2462 y(ANTLR)g(uses)g(a)h(ne)o(w)f(parsing)f(strate)
o(gy)h(that)f(makes)h(it)g(possible)e(to)i(de)o(v)o(elop)g(natural,)g
(easy-to-read)187 2511 y(grammars)k(for)f(dif)o(\256cult)f(languages)g
(like)g(C++.)i(ANTLR)e(uses)h Fq(pr)q(ed)p Fr(-)p Fq(LL)p
Fm(\()p Fq(k)q Fm(\))f Fr(grammars,)j(which)d(are)684
2698 y(15/8/1995)c(18:01)h(P)l(A)n(GE)h(PR)n(OOFS)h(antlr)p
eop
%%Page: 808 20
808 19 bop 187 108 a Fn(808)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)
m(.)f(QUONG)187 199 y Fq(LL)p Fm(\()p Fq(k)q Fm(\))k
Fr(grammars)i(for)f Fq(k)j(>)g Fm(1)d Fr(augmented)f(with)g
(predicates.)h(Predicates)f(allo)o(w)g(arbitrary)h(semantic)187
249 y(and)e(syntactic)e(information)h(to)h(direct)f(the)h(parse.)g(Due)
g(to)g(its)f(po)o(wer)g(and)h(con)n(v)o(enience,)g(ANTLR)g(has)187
299 y(o)o(v)o(er)18 b(1000)e(kno)o(wn)g(users)h(in)g(37)g(countries)f
(and)h(has)g(become)h(perhaps)e(the)h(second-most)g(popular)187
349 y(parser)11 b(generator)g(both)f(commercially)i(and)f(academically)
g(\(with)f(Y)-5 b(A)n(CC/bison)10 b(being)g(the)h(leader\).)232
399 y(ANTLR)18 b(is)g(free,)h(public-domain)d(software.)i(ANTLR)g(and)g
(the)f(rest)h(of)g(PCCTS)i(are)e(a)o(v)o(ailable)187
448 y(via)12 b(anon)o(ymous)g Fl(ftp)i Fr(at)e Fl(everest.ee.u)q(mn.e)q
(du)k Fr(in)c(the)h(directory)f Fl(pub/pccts)j Fr(or)e(by)f(send-)187
498 y(ing)f(e-mail)i(to)f Fl(pccts@ecn.purdu)q(e.ed)q(u)p
Fr(.)k(In)c(the)g Fl(pub/pccts/pape)q(rs)k Fr(directory)m(,)11
b(the)h(\256le)187 548 y Fl(predicates.ps.)q(Z)17 b Fr(is)c(compressed)
g(postscript)f(for)i(the)f(paper)1324 531 y FD(4)1340
548 y Fr(.)i(The)e(ne)o(wsgroup)f(for)i(ANTLR)187 598
y(and)g(PCCTS)h(is)e Fl(comp.compile)q(rs.t)q(ool)q(s.pc)q(cts)p
Fr(.)18 b(Finally)m(,)c(this)e(paper)j(describes)e(ANTLR)187
648 y(as)e(of)g(v)o(ersion)g(1.30.)782 772 y(A)n(CKNO)n(WLEDGEMENTS)187
847 y(W)n(ill)f(Cohen)h(and)f(Hank)h(Dietz)f(were)i(coauthors)d(of)i
(the)g(original)e(PCCTS)j(as)f(a)h(whole.)e(Gary)h(Funck)g(at)187
897 y(Intrepid)g(T)m(echnology)m(,)g(Inc.)i(did)f(e)o(xtensi)o(v)o(e)f
(testing)g(of)i(ANTLR)f(and)g(pro)o(vided)f(a)i(constant)e(stream)i(of)
187 946 y(e)o(xcellent)d(suggestions.)e(T)l(om)k(Moog)e(has)h(written)e
(a)i(remarkable)h(set)e(of)h Fl(NOTES.newbie)j Fr(introduc-)187
996 y(tory)e(notes.)h(Ariel)g(T)l(amches)h(spent)e(a)h(week)h(of)f(his)
f(Christmas)h(v)o(acation)f(in)h(the)g(wilds)e(of)j(Minnesota)187
1046 y(helping)8 b(with)g(the)h(C++)g(output.)f(Thom)h(W)l(ood)f(and)h
(Randy)h(Helzerman)f(both)g(in\257uenced)f(the)h(C++)g(out-)187
1096 y(put.)i(Anthon)o(y)f(Green)h(at)g(V)m(isible)f(Decisions,)h(John)
f(Hall)h(at)g(W)l(orcester)h(Polytechnic)e(Institute,)f(De)o(vin)187
1146 y(Hooker)h(at)h(Ellery)g(Systems,)g(K)o(enneth)g(D.)g(W)l(einert)h
(at)f(Information)g(Handling)e(Services,)j(Ste)o(v)o(e)g(Hite,)187
1196 y(and)e(Roy)g(Le)o(v)o(o)o(w)g(at)h(Florida)f(Atlantic)g(Uni)o(v)o
(ersity)f(ha)o(v)o(e)i(been)f(faithful)g(beta)g(testers)g(of)h(PCCTS.)h
(Scott)187 1245 y(Hane)o(y)e(at)g(La)o(wrence)h(Li)o(v)o(ermore)f(Labs)
g(de)o(v)o(eloped)f(the)h(Macintosh)f(MPW)i(port.)f(Sumana)g(Srini)o(v)
o(asan,)187 1295 y(Mike)j(Mone)o(gan,)h(and)f(Ste)o(v)o(e)h(Narof)o(f)f
(of)h(NeXT)m(,)f(Inc.)h(pro)o(vided)f(e)o(xtensi)o(v)o(e)g(help)f(in)h
(the)h(de\256nition)e(of)187 1345 y(the)f(ANTLR)f(C++)h(output)f(and)h
(de)o(v)o(eloped)f(the)h(C++)g(grammar)h(to)f(be)g(pro)o(vided)f(with)g
(PCCTS.)j(Cathy)187 1395 y(T)l(anner)j(proofread)g(se)o(v)o(eral)g
(drafts)g(of)g(this)f(paper)m(.)33 b(Finally)m(,)15 b(the)h(multitude)e
(of)i(PCCTS)i(users)d(ha)o(v)o(e)187 1445 y(helped)10
b(re\256ne)i(ANTLR)f(with)f(their)h(suggestions.)916
1569 y Fz(REFERENCES)203 1644 y(1.)31 b(S.)9 b(C.)h(Johnson,)d
Fx(Y)m(acc:)h(Y)m(et)g(Another)g(Compiler)o(-Compiler)p
Fz(,)h(Bell)g(Laboratories;)g(Murray)g(Hill,)i(NJ,)e(1978.)203
1685 y(2.)31 b(T)m(.J.)7 b(P)o(arr)o(,)h(H.G.)g(Dietz,)g(and)e(W)m(.E.)
i(Cohen,)f(`PCCTS)g(1.00:)g(The)g(Purdue)f(Compiler)h(Construction)g(T)
m(ool)g(Set',)h Fx(SIGPLAN)262 1727 y(Notices)p Fz(,)g
Fv(27)p Fz(,)h(\(2\),)i(88\261165,)c(\(February)i(1992\).)203
1768 y(3.)31 b(T)m(erence)8 b(P)o(arr)o(,)i(Russell)f(Quong,)f(and)h
(Hank)f(Dietz,)i(`The)f(Use)g(of)h(Predicates)e(In)i
Fu(LL)p Ft(\()p Fu(k)q Ft(\))g Fz(And)f Fu(LR)p Ft(\()p
Fu(k)q Ft(\))h Fz(P)o(arser)f(Genera-)262 1810 y(tors',)h(T)m(echnical)
e(Report)h(TREE93-25,)f(Purdue)g(Uni)o(v)o(ersity)i(School)e(of)h
(Electrical)h(Engineering,)e(\(July)h(1993\).)203 1851
y(4.)31 b(T)m(erence)7 b(J.)i(P)o(arr)g(and)f(Russell)g(W)m(.)h(Quong,)
f(`Adding)g(Semantic)g(and)g(Syntactic)g(Predicates)f(to)i
Fu(LL)p Ft(\()p Fu(k)q Ft(\))p Fz(\320)p Fx(pr)o(ed)p
Fz(-)p Fu(LL)p Ft(\()p Fu(k)q Ft(\))p Fz(',)262 1893
y Fx(Pr)n(oceedings)d(of)j(the)g(International)g(Confer)o(ence)d(on)j
(Compiler)f(Construction)p Fz(,)g(Edinb)o(ur)o(gh,)h(Scotland,)f(April)
j(1994.)203 1934 y(5.)31 b(Sumana)6 b(Srini)o(v)o(asan,)i(Ste)o(v)o(e)g
(Narof)o(f,)h(and)f(Mike)g(Mone)o(gan.)i(Pri)o(v)o(ate)f
(communications)d(at)i(NeXT)g(Computer)o(,)g(Incorpo-)262
1976 y(rated,)h(October)g(1993.)203 2017 y(6.)31 b(Donald)8
b(Knuth,)i(`On)f(the)h(T)o(ranslation)e(of)i(Languages)d(from)j(Left)g
(to)g(Right',)g Fx(Information)f(and)g(Contr)n(ol)p Fz(,)h
Fv(8)p Fz(,)f(607\261639,)262 2059 y(\(1965\).)203 2100
y(7.)31 b(Mar)o(garet)8 b(A.)g(Ellis)h(and)e(Bjarne)h(Stroustrup,)g
Fx(The)f(Annotated)g(C++)h(Refer)o(ence)d(Manual)p Fz(,)j(Addison)f(W)m
(esle)o(y)h(Publishing)262 2142 y(Compan)o(y)n(,)g(Reading,)g
(Massachuse)o(tts,)f(1990.)203 2183 y(8.)31 b(T)m(erence)5
b(P)o(arr)o(,)i(W)o(ill)h(Cohen,)e(and)g(Hank)g(Dietz,)h(`The)f(Purdue)
g(Compiler)h(Construction)f(T)m(ool)g(Set:)h(V)l(ersion)f(1.10)g
(Release)262 2225 y(Notes',)h(T)m(echnical)f(Report)h(Preprint)g(No.)h
(93-088,)e(Army)i(High)f(Performance)f(Computing)g(Research)f(Center)o
(,)i(\(August)262 2267 y(1993\).)203 2308 y(9.)31 b(P)l(.)8
b(M.)g(Le)o(wis,)g(D.)h(J.)f(Rosenkrantz,)e(and)h(R.)i(E.)f(Stearns,)f
(`Attrib)o(uted)j(T)o(ranslations',)d Fx(J)o(ournal)g(of)h(Computer)e
(and)i(System)262 2350 y(Sciences)p Fz(,)f Fv(9)p Fz(,)i(279\261307,)f
(\(1974\).)185 2391 y(10.)30 b(Charles)11 b(N.)i(Fischer)e(and)h
(Richard)g(J.)g(LeBlanc,)f Fx(Cr)o(afting)i(a)f(Compiler)g(with)h(C)p
Fz(,)f(Benjamin/Cummings)g(Publishing)262 2433 y(Compan)o(y)n(,)c
(Redwood)f(City)n(,)i(CA,)h(1991.)684 2698 y Fr(15/8/1995)f(18:01)h(P)l
(A)n(GE)h(PR)n(OOFS)h(antlr)p eop
%%Page: 809 21
809 20 bop 538 108 a Fz(ANTLR:)9 b(A)h(PREDICA)l(TED-)p
Fu(LL)p Ft(\()p Fu(K)s Ft(\))e Fz(P)m(ARSER)g(GENERA)l(T)o(OR)351
b Fn(809)491 324 y Fr(APPENDIX:)11 b(GRAMMA)-5 b(TICAL)12
b(STR)n(UCTURE)f(OF)h(R)n(ULES)187 399 y(The)k(follo)o(wing)e(grammar)k
(is)d(an)i(ANTLR)f(description)e(of)j(ANTLR')m(s)f(rule)g
(meta-language.)g(Much)187 448 y(of)c(the)g(complete)f(ANTLR)h(grammar)
n(,)i(including)c(the)i(le)o(xical)f(rules)h(and)g(semantic)g(actions,)
f(has)h(been)187 498 y(remo)o(v)o(ed)g(for)f(clarity)m(,)g(b)o(ut)g
(the)g(full)f(source)h(is)g(a)o(v)o(ailable)f(at)h(the)g(ftp)g(site)g
(mentioned)f(abo)o(v)o(e.)187 590 y Fw(rule:)69 b(NONTERMIN)q(AL)26
b({)d("!")h(})e({)h(ARGBLK)p 993 590 12 2 v 16 w(IN)p
1053 590 V 15 w(OR)p 1112 590 V 14 w(OUT)g(})g({)g(")p
Fg(n)p Fw(>")h(ARGBLK)p 1546 590 V 16 w(IN)p 1606 590
V 14 w(OR)p 1664 590 V 14 w(OUT)g(})366 643 y({)f(STRING)i(})e(":")366
695 y(block)i(";")366 748 y({)e(ACTION)i(})366 800 y(\()e(exception)p
612 800 V 17 w(group)i(\))p Fg(\003)276 853 y Fw(;)187
958 y(block)276 1010 y(:)68 b(alt)24 b(\()f(exception)p
702 1010 V 17 w(group)h(\))p Fg(\003)f Fw(\()g(")p Fg(n)p
Fw(|")h(alt)g(\()f(exception)p 1404 1010 V 17 w(group)h(\))p
Fg(\003)f Fw(\))p Fg(\003)276 1063 y Fw(;)187 1168 y(alt)g(:)68
b(\()23 b({)g(")p Fg(n\030)p Fw(")g(})g(element)i(\))p
Fg(\003)276 1220 y Fw(;)187 1325 y(element)p 343 1325
V 16 w(label)276 1378 y(:)68 b(ID)23 b(":")276 1430 y(;)187
1535 y(element)276 1588 y(:)68 b({)23 b(element)p 567
1588 V 16 w(label)i(})366 1640 y(\()68 b(TERMINAL)26
b({)c("..")i(TERMINAL)i(})d({)g(")r Ft(^)r Fw(")g(|)f("!")i(})366
1693 y(|)68 b(".")23 b({)g(")r Ft(^)r Fw(")g(|)g("!")g(})366
1745 y(|)68 b(NONTERMIN)q(AL)26 b({)d("!")g(})g({)g(ARGBLK)p
1083 1745 V 16 w(IN)p 1143 1745 V 14 w(OR)p 1201 1745
V 14 w(OUT)h(})f({)g(")p Fg(n)p Fw(>")h(ARGBLK)p 1636
1745 V 16 w(IN)p 1696 1745 V 14 w(OR)p 1754 1745 V 14
w(OUT)g(})366 1798 y(\))276 1850 y(|)68 b(ACTION)276
1903 y(|)g(SEMANTIC)p 545 1903 V 17 w(PREDICATE)276 1955
y(|)g(")p Fg(n)p Fw(\(")24 b(block)g(")p Fg(n)p Fw(\)")g({)f(")p
Fg(n\003)p Fw(")h(|)f(")p Fg(n)p Fw(+")h(|)e("?")i(})276
2008 y(|)68 b(")p Fg(n)p Fw({")24 b(block)g(")p Fg(n)p
Fw(}")276 2060 y(;)187 2165 y(exception)p 388 2165 V
17 w(group)276 2218 y(:)68 b("exceptio)q(n")26 b({)d(LABEL)p
792 2218 V 15 w(ID)h(})f(\()f(exceptio)q(n)p 1163 2218
V 17 w(handler)j(\))p Fg(\003)366 2270 y Fw({)e("default")j(":")e
(ACTION)h(})276 2323 y(;)187 2428 y(exception)p 388 2428
V 17 w(handler)276 2481 y(:)68 b("catch")25 b(ID)f(":")f({)g(ACTION)i
(})276 2533 y(;)684 2698 y Fr(15/8/1995)9 b(18:01)h(P)l(A)n(GE)h(PR)n
(OOFS)h(antlr)p eop
%%Page: 810 22
810 21 bop 187 108 a Fn(810)602 b Fz(T)m(.)10 b(J.)f(P)m(ARR,)g(R.)h(W)
m(.)f(QUONG)706 199 y Fr(APPENDIX:)i(SAMPLE)h(PR)n(OJECTS)187
274 y(T)l(o)k(substantiate)f(our)h(claims)g(of)h(broad)f(usage,)h(we)f
(asked)g(the)h(users)f(on)g(the)g(pccts)g(mailing)g(list)f(to)187
324 y(pro)o(vide)c(synopses)f(of)i(their)f(projects.)g(Here)i(are)f
(edited)f(v)o(ersions)g(of)h(the)f(\256rst)h(18)g(replies)f(in)g(the)h
(order)187 374 y(the)o(y)f(arri)o(v)o(ed.)p 232 419 1690
2 v 231 498 2 79 v 257 449 a Fs(Gary)d(Funck,)f(Intrepid)h(T)n
(echnology)e(Inc.)257 492 y Fa(gary@intrepid.com)p 881
498 V 907 449 a Fs(Pascal)i(to)g(Ada)f(T)o(ranslator)n(.)p
1921 498 V 232 499 1690 2 v 231 616 2 117 v 257 529 a(K)o(en)h(W)m
(einert)257 572 y(Information)f(Handling)g(Services)257
615 y Fa(kenw@ihs.com)p 881 616 V 907 529 a Fs(SGML)i(translation)f(to)
h(vendor)d(data)j(format)f(and)g(User)g(language)f(for)i(specifying)907
572 y(data)f(translation)f(from)h(one)f(form)h(to)g(another)n(.)p
1921 616 V 232 617 1690 2 v 231 698 2 81 v 257 648 a(Jim)g(Studt)257
690 y(The)g(Federated)f(Software)h(Group,)g(Inc.)p 881
698 V 907 648 a(Compiler)f(for)g(Forms)f(Interface)g(Management)f
(System)i(\()h(a)f(proposed)e(ISO,ANSI)907 690 y(standard\))i(tar)o
(get)h(for)g(NCSC)h(B1)f(mandatory)f(access)g(controlled)g(systems.)p
1921 698 V 232 699 1690 2 v 231 823 2 124 v 257 729 a(Da)o(vid)h
(Seidel)257 772 y(Innov)o(ati)o(ve)e(Data)i(Concepts)f(Incorporated)257
815 y Fa(71333.1575@compuserve.com)p 881 823 V 907 729
a Fs(W)m(e)h(ha)o(ve)f(used)f(ANTLR/DLG)j(to)f(create)f(the)g(parser)g
(for)h(the)f(MAKE)h(engine)e(that)907 772 y(we')n(ve)i(written)h(for)f
(Symantec)g(for)g(inclusion)g(in)h(the)f(next)f(major)i(release)f(of)g
(their)907 815 y(C++)g(compiler)f(system.)p 1921 823
V 232 824 1690 2 v 231 941 2 117 v 257 854 a(K)o(err)h(Hatrick)257
897 y(National)g(Institute)g(for)g(Medical)f(Research)257
940 y Fa(k-hatric@nimr.mrc.ac.uk)p 881 941 V 907 854
a Fs(The)j(production)f(of)h(a)h(protein)f(parser)g(to)g(analyze)f(and)
h(categorize)f(protein)h(sec-)907 897 y(ondary)c(structure)i(gi)o(ven)f
(a)h(protein)f(family)h(grammar)n(.)p 1921 941 V 232
942 1690 2 v 231 1066 2 124 v 257 973 a(T)m(om)h(Zougas)257
1016 y(Mechanical)d(Engineering,)h(U)i(of)f(T)m(oronto)257
1058 y Fa(zougas@me.utoronto.ca)p 881 1066 V 907 973
a Fs(I)i(am)f(currently)f(using)h(PCCTS)i(as)e(a)h(command)d(language)h
(interpreter)h(as)g(a)h(user)907 1016 y(interface)d(with)h(an)g
(inhouse)e(de)o(veloped)f(\(my)j(PhD\))g(numerical)f(analysis)g
(package)907 1058 y(\(nonlinear)g(\256nite)h(element)g(analysis\).)p
1921 1066 V 232 1067 1690 2 v 231 1148 2 81 v 257 1097
a(Boleslaw)g(Ciesielski,)g(V)n(ie)o(wlogic)g(Sys.,)h(Inc.)257
1140 y Fa(bolek@viewlogic.com)p 881 1148 V 907 1097 a
Fs(An)e(extension)e(language)g(linked)h(to)h(all)h(of)f(the)f(company')
n(s)f(products)h(\(CAE)h(appli-)907 1140 y(cations\))g(and)h(used)f
(for)h(extending)e(their)i(functionality)f(and)g(UI.)p
1921 1148 V 232 1149 1690 2 v 231 1273 2 124 v 257 1179
a(Peter)i(Dahl)257 1222 y(Uni)o(versity)e(of)h(Minnesota)257
1265 y Fa(dahl@ee.umn.edu)p 881 1273 V 907 1179 a Fs(I)14
b(use)g(the)f(same)h(ANTLR)g(grammar)f(\(to)h(parse)f(DLX)i(assembly\))
e(for)g(a)h(code)907 1222 y(scheduler/Alpha)7 b(code)i(con)o(verter)e
(and)i(for)g(a)h(DLX)g(compiled)e(instruction)h(le)o(vel)907
1265 y(simulator)n(.)f(I)h(also)e(use)h(ANTLR)h(for)f(my)g(C)g(front)g
(end)f(for)h(my)g(compiler)n(.)p 1921 1273 V 232 1274
1690 2 v 231 1397 2 124 v 257 1304 a(Sriram)h(Sankar)257
1347 y(Sun)f(Microsystems)f(Labs,)h(Inc.)257 1390 y Fa
(sriram.sankar@sun.com)p 881 1397 V 907 1304 a Fs(The)j(application,)g
(ADL)m(T)n(,)h(is)g(a)f(software)g(testing)g(en)o(vironment)f(based)g
(on)h(easy)907 1347 y(to)d(use)f(formal)h(speci\256cations.)f(ANTLR)i
(is)f(used)f(to)h(generate)f(three)h(independent)907
1390 y(parsers)f(and)h(is)g(used)f(in)h(its)h(wide)f(character)f(mode.)
p 1921 1397 V 232 1399 1690 2 v 231 1522 2 124 v 257
1429 a(Iv)o(an)h(M)f(Kissiov)257 1472 y(Cadence)g(Design)g(Systems,)i
(Inc.)257 1515 y Fa(ivan@cadence.com)p 881 1522 V 907
1429 a Fs(1.)k(Parser)f(for)h(Analog)f(Hardware)f(Description)h
(Language)f(\(not)h(yet)h(commer)o(-)907 1472 y(cially)7
b(released\).)g(2.)g(T)o(ranslator)g(from)g(Analog)g(Beha)o(vioral)f
(Modeling)g(Language)907 1515 y(\(PR)o(OFILE\))k(to)e(Analog)f
(Hardware)g(Description)g(Language)f(\(not)i(yet)g(released\).)p
1921 1522 V 232 1524 1690 2 v 231 1647 2 124 v 257 1554
a(Philip)h(A.)f(W)o(ilsey)257 1597 y(Uni)o(versity)f(of)h(Cincinnati)
257 1640 y Fa(phil.wilsey@uc.edu)p 881 1647 V 907 1554
a Fs(VHDL)h(parser)o(,)e(code)h(reor)o(ganizer)o(,)f(and)g(code)g
(generation.)g(Re)o(writing)i(and)e(back-)907 1597 y(end)f(code)f
(generation)g(for)h(semantic)g(modeling)f(project)h(supported)f(by)h
(ARP)m(A)h(and)907 1640 y(Air)i(Force.)e(LL\(2\))i(grammar)n(.)p
1921 1647 V 232 1649 1690 2 v 231 1858 2 210 v 257 1679
a(Niall)g(Ross)257 1722 y(Bell)g(Northern)e(Research)257
1765 y Fa(N.F.Ross@bnr.co.uk)p 881 1858 V 907 1679 a
Fs(Our)12 b(application)f(parses)g(SDL)i(\(System)g(Description)e
(Language:)g(a)h(speci\256ca-)907 1722 y(tion)d(and)g(design)f
(language)g(much)g(used)g(in)i(telecoms\))e(output)h(by)g(T)n
(eleLOGIC')n(s)907 1765 y(SDT)14 b(tool,)f(and)g(re)o(writes)g(it)h(as)
f(GFIF)m(,)i(the)e(language)e(of)i(the)g(SES/workbench)907
1808 y(performance)8 b(modeling)h(tool,)i(thus)f(allo)o(wing)g(models)g
(designed)e(in)j(SDT)g(to)g(be)907 1851 y(automatically)c(input)h(to)g
(SES/workbench)f(for)h(performance)e(analysis.)p 1921
1858 V 232 1860 1690 2 v 231 1938 2 79 v 257 1890 a(Ste)o(ve)i
(Robenalt,)f(Scobenalt)h(Engineering)257 1933 y Fa
(robenalt@orange.digex.net)p 881 1938 V 907 1890 a Fs(\(1\))g(Oberon-2)
f(Compiler)g(for)h(OS/2)h(under)e(X86)g(and)h(Po)o(werPC)h
(architectures.)p 1921 1938 V 232 1940 1690 2 v 231 2062
2 122 v 257 1970 a(Ste)o(ve)f(Robenalt)257 2013 y(Rockwell)g
(International)257 2056 y Fa(steve@molly.dny.rockwell.com)p
881 2062 V 907 1970 a Fs(1\))k(FOR)n(TRAN)i(T)o(ranslator/Preprocessor)
d(\(ANTLR,)j(DLG,)f(SORCERER\))h(2\))907 2013 y(Plotting)19
b(Program)g(Command)f(Interpreter)g(\(ANTLR,)j(DLG\))e(3\))g(Graphics)
907 2056 y(Database)7 b(T)o(ranslator)h(\(ANTLR,)h(DLG\))p
1921 2062 V 232 2063 1690 2 v 231 2186 2 124 v 257 2093
a(Vladimir)f(Bacv)o(anski,)g(Aachen)e(Uni)o(v)i(of)g(T)n(ech,)257
2136 y(\(Germany\))81 b Fa(vladimir@)257 2179 y
(i3.informatik.rwth-aachen.de)p 881 2186 V 907 2093 a
Fs(A)12 b(language)f(layer)g(over)g(C++)h(introducing)e(explicit)h
(de\256nition)h(of)g(e)o(vents)f(and)907 2136 y(rules)i(for)g(de)o
(velopment)d(of)j(multiparadigm)e(systems)i(\(.i.e.)h(a)f(fully)g
(integrable)907 2179 y(forward)7 b(chaining)g(expert)g(system)g(using)g
(the)h(C++)g(data)g(model\).)p 1921 2186 V 232 2188 1690
2 v 231 2311 2 124 v 257 2218 a(James)g(Mansion)257 2261
y(W)m(estongold)f(Ltd)257 2304 y Fa(jgm@cox.compulink.co.uk)p
881 2311 V 907 2218 a Fs(I)k(use)g(it)g(for)g(describing)e(interest)i
(rate)g(deri)o(v)o(ati)o(ve)f(deals)h(and)f(for)g(implementing)907
2261 y(command)5 b(line)i(parsers)f(and)g(query)f(and)h(manipulation)f
(languages)g(in)i(my)f(dealing)907 2304 y(support)h(software.)p
1921 2311 V 232 2313 1690 2 v 231 2479 2 167 v 257 2343
a(Dana)h(Hoggatt)257 2386 y(Interacti)o(ve)f(natural)h(language)e
(mathematics)257 2429 y Fa(muck@mdbs.com)p 881 2479 V
907 2343 a Fs(I)j(tell)g(the)g(computer)e(what)i(I)g(want)f(to)h
(calculate,)f(and)g(it)h(tells)h(me)e(the)h(answer)n(.)f(No)907
2386 y(keyboard.)e(No)i(screen.)g(All)h(done)e(via)h(v)o(oice)g
(recognition)f(and)h(speech)f(synthesis.)907 2429 y(I'm)13
b(in)o(vestigating)e("verbal")g(programming)h(techniques,)f(which)i
(are)g(radically)907 2472 y(dif)o(ferent)8 b(from)g(most)g(of)g(the)f
("visual")g(programming)f(languages)g(used)h(today)n(.)p
1921 2479 V 232 2481 1690 2 v 231 2559 2 79 v 257 2511
a(Glen)h(Gordon,)f(Anderson)f(School)i(Of)g(Mgmt.)257
2554 y Fa(ggordon@AGSM.UCLA.EDU)p 881 2559 V 907 2511
a Fs(T)o(ranslate)f(specially)g(formatted)g(text)g(\256les)h(into)g
(Lotus)f(123)g(spreadsheets,)f(formu-)907 2554 y(las)i(and)f(all.)p
1921 2559 V 232 2561 1690 2 v 684 2698 a Fr(15/8/1995)i(18:01)h(P)l(A)n
(GE)h(PR)n(OOFS)h(antlr)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF

