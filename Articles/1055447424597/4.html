<html>

<head>
<title>ANTLR Bug 4</title>
</head>

<body>

<p>ANTLR Bug 4 [IsSuggestion==true]</p>

<table border="1" width="100%">
  <tr>
    <td width="80%"><table border="0">
      <tr>
        <td valign="top" width="90" align="right"><b>Summary</b> </td>
        <td valign="top">Enhance exception error from match(char) </td>
      </tr>
      <tr>
        <td valign="top" width="90" align="right"></td>
        <td valign="top"></td>
      </tr>
      <tr>
        <td valign="top" width="90" width="175" align="right"><b>Submitted By</b> </td>
        <td valign="top"> </td>
      </tr>
      <tr>
        <td valign="top" width="90" width="175" align="right"><b>Email</b> </td>
        <td valign="top"> </td>
      </tr>
      <tr>
        <td valign="top" width="90" width="175" align="right"><b>Date</b> </td>
        <td valign="top"> </td>
      </tr>
    </table>
    </td>
    <td width="20%" valign="top"><table border="0">
      <tr>
        <td valign="top" width="175" align="right"><b>Version</b> </td>
        <td width="400">2.2.1 </td>
      </tr>
      <tr>
        <td valign="top" width="175" align="right"><b>Fixed In</b> </td>
        <td width="400">2.4.0 </td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<p><b>Description</b></p>

<pre>&gt;&gt;wondering about. . . In match(char) could you change the exception to 
&gt;print
&gt;&gt;out what it was expecting as well? I made that change and debugging my
&gt;&gt;grammars became a lot easier.
&gt;
&gt;Good idea.  Can you send me the exact method so I can drop it in?
&gt;
&gt;public abstract class CharScannerNoBacktrackingNoInteractive extends 
&gt;CharScanner {
&gt;	protected void match(char c) throws ScannerException {
&gt;		if ( la_1 != c ) {
&gt;			throw new ScannerException("mismatched char: '" + la_1 + "' expected '" 
&gt;+ c + "'", line);
&gt;		}
&gt;		consume();
&gt;	}
&gt;}</pre>

<p><strong>Resolution</strong></p>

Changed CharScanner.match(char) to throw

throw new ScannerException("mismatched char: '" + LA(1) + "' expected '"+c+"'", line);
</body>
</html>
